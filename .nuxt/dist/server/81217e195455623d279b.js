exports.ids=[15],exports.modules={46:function(e,t,r){var content=r(63);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var o=r(4).default;e.exports.__inject__=function(e){o("86d3f972",content,!0,e)}},62:function(e,t,r){"use strict";r.r(t);var o=r(46),d=r.n(o);for(var l in o)["default"].indexOf(l)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(l);t.default=d.a},63:function(e,t,r){(t=r(3)(!1)).push([e.i,".card-header .nav-link[aria-expanded=true][data-v-07c97a07]{background-color:#fff;color:#408bb9!important}.nav-link[data-v-07c97a07]{border-radius:10px 10px 0 0;color:#fff!important}@media screen and (max-width:768px){.nav-link[data-v-07c97a07]{border-radius:10px 10px 10px 10px;margin:5px}}.card-header[data-v-07c97a07]{background-color:#6ea8cc}",""]),e.exports=t},71:function(e,t,r){"use strict";r.r(t);var o=r(2),d={name:"FormStepperOne",middleware:["auth"],props:{idNumber:{type:String,default:""}},data(){return{passenger:{transaction_id:this.$route.params.id,person_name:"",title:"",dob:null,passport_number:"",issued_date:null,expiry_date:null,issuing_country:"",food_preference:"",room_choice_id:null},room_choice:null}},computed:{...Object(o.mapGetters)({TRANSACTION:"transactions/TRANSACTION"}),item(){return this.TRANSACTION.data},stepTwoDisable(){return""===this.passenger.person_name||""===this.passenger.title||null===this.passenger.dob||null===this.room_choice||""===this.passenger.food_preference},stepThreeDisable(){return""===this.passenger.passport_number||null===this.passenger.issued_date||null===this.passenger.expiry_date||""===this.passenger.issuing_country||this.stepTwoDisable}},mounted(){},methods:{...Object(o.mapMutations)({PUSH_PASSENGER:"stepper-form/PUSH_PASSENGER"}),pushPassenger(){this.passenger.room_choice_id=this.room_choice.id,this.stepTwoDisable||this.stepThreeDisable||this.PUSH_PASSENGER(this.passenger)}}},l=r(1);var n={name:"AddPassengersPage",middleware:["auth"],components:{Stepper:Object(l.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._ssrNode('<h4 class="my-2 py-2 text-center" data-v-07c97a07>'+e._ssrEscape("\n    Passenger "+e._s(parseInt(e.idNumber)+1)+" - "+e._s(e.passenger.title)+"\n    "+e._s(e.passenger.person_name)+"\n  ")+"</h4> "),e._ssrNode("<div"+e._ssrAttr("id","stepsAccordion-"+e.idNumber)+' class="accordion" data-v-07c97a07>',"</div>",[e._ssrNode('<div class="card border-0 text-center my-4 shadow" style="border-radius: 15px" data-v-07c97a07>',"</div>",[e._ssrNode('<div class="card-header" data-v-07c97a07><ul class="nav nav-tabs nav-fill flex-column flex-sm-row card-header-tabs mt-4" data-v-07c97a07><li class="nav-item" data-v-07c97a07><a data-toggle="collapse"'+e._ssrAttr("data-target","#stepOne-"+e.idNumber)+' role="button" aria-expanded="true"'+e._ssrAttr("aria-controls","stepOne-"+e.idNumber)+' class="flex-sm-fill nav-link" data-v-07c97a07>\n              Person Details\n            </a></li> <li class="nav-item" data-v-07c97a07>'+(e.stepTwoDisable?'<a class="flex-sm-fill nav-link disabled" data-v-07c97a07>Passport (Disabled)</a>':'<a data-toggle="collapse"'+e._ssrAttr("data-target","#stepTwo-"+e.idNumber)+' role="button" aria-expanded="false"'+e._ssrAttr("aria-controls","stepTwo-"+e.idNumber)+' class="flex-sm-fill nav-link" data-v-07c97a07>Passport</a>')+'</li> <li class="nav-item" data-v-07c97a07>'+(e.stepThreeDisable?'<a class="flex-sm-fill nav-link disabled" data-v-07c97a07>Review (Disabled)</a>':'<a data-toggle="collapse"'+e._ssrAttr("data-target","#stepThree-"+e.idNumber)+' role="button" aria-expanded="false"'+e._ssrAttr("aria-controls","stepThree-"+e.idNumber)+' class="flex-sm-fill nav-link" data-v-07c97a07>Review Data</a>')+"</li></ul></div> "),e._ssrNode("<form data-v-07c97a07>","</form>",[e._ssrNode("<div"+e._ssrAttr("id","stepOne-"+e.idNumber)+e._ssrAttr("data-parent","#stepsAccordion-"+e.idNumber)+' class="collapse show " data-v-07c97a07>',"</div>",[e._ssrNode('<div class="card-body " data-v-07c97a07>',"</div>",[e._ssrNode('<div class="row" data-v-07c97a07>',"</div>",[e._ssrNode('<div class="col-12 col-lg-8 my-4 mx-auto text-left" data-v-07c97a07>',"</div>",[e._ssrNode('<div class="form-group" data-v-07c97a07><label'+e._ssrAttr("for","t-form-name"+e.idNumber)+" data-v-07c97a07>Full Name</label> <input"+e._ssrAttr("id","t-form-name"+e.idNumber)+' type="text" placeholder="Enter passenger\'s full name" required="required"'+e._ssrAttr("value",e.passenger.person_name)+' class="form-control" data-v-07c97a07></div> '),e._ssrNode('<div class="form-group row" data-v-07c97a07>',"</div>",[e._ssrNode('<div class="col-6" data-v-07c97a07>',"</div>",[e._ssrNode("<label"+e._ssrAttr("for","t-form-title"+e.idNumber)+" data-v-07c97a07>Title</label> "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.passenger.title,expression:"passenger.title"}],staticClass:"form-control",attrs:{id:"t-form-title"+e.idNumber,required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.passenger,"title",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Choose...")]),e._v(" "),r("option",{attrs:{value:"Mr."}},[e._v("Mr.")]),e._v(" "),r("option",{attrs:{value:"Ms."}},[e._v("Ms.")]),e._v(" "),r("option",{attrs:{Value:"Mrs."}},[e._v("Mrs.")])])],2),e._ssrNode(" "),e._ssrNode('<div class="col-6" data-v-07c97a07>',"</div>",[e._ssrNode("<label"+e._ssrAttr("for","t-form-food"+e.idNumber)+" data-v-07c97a07>Food Preference</label> "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.passenger.food_preference,expression:"passenger.food_preference"}],staticClass:"form-control",attrs:{id:"t-form-food"+e.idNumber,required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.passenger,"food_preference",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Choose...")]),e._v(" "),r("option",{attrs:{value:"Vegetarian"}},[e._v("Vegetarian")]),e._v(" "),r("option",{attrs:{value:"Non-Vegetarian"}},[e._v("Non-Vegetarian")]),e._v(" "),r("option",{attrs:{value:"Muslim-Food"}},[e._v("Muslim-Food")])])],2)],2),e._ssrNode(' <div class="form-group" data-v-07c97a07><label'+e._ssrAttr("for","t-form-dob"+e.idNumber)+" data-v-07c97a07>Date of Birth</label> <input"+e._ssrAttr("id","t-form-dob"+e.idNumber)+' type="date" required="required"'+e._ssrAttr("value",e.passenger.dob)+' class="form-control" data-v-07c97a07></div> '),e._ssrNode('<div class="form-group" data-v-07c97a07>',"</div>",[e._ssrNode("<label"+e._ssrAttr("for","t-form-room"+e.idNumber)+" data-v-07c97a07>Room Choice</label> "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.room_choice,expression:"room_choice"}],staticClass:"form-control",attrs:{id:"t-form-room"+e.idNumber,required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.room_choice=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Choose...")]),e._v(" "),e._l(e.item.package.room_choices,(function(t){return r("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.room_name)+" - Rp.\n                      "+e._s(t.room_price)+".000")])}))],2)],2)],2)])]),e._ssrNode(' <div class="card-footer border-0 text-right bg-white" data-v-07c97a07>'+(e.stepTwoDisable?'<button disabled="disabled" class="btn btn-secondary text-white my-2" data-v-07c97a07>\n              Please complete all fields\n            </button>':'<a data-toggle="collapse"'+e._ssrAttr("data-target","#stepTwo-"+e.idNumber)+' role="button" aria-expanded="false"'+e._ssrAttr("aria-controls","stepTwo-"+e.idNumber)+' class="btn btn-lg btn-primary text-white my-2 " data-v-07c97a07>Next</a>')+"</div>")],2),e._ssrNode(" <div"+e._ssrAttr("id","stepTwo-"+e.idNumber)+e._ssrAttr("data-parent","#stepsAccordion-"+e.idNumber)+' class="collapse" data-v-07c97a07><div class="card-body " data-v-07c97a07><div class="row" data-v-07c97a07><div class="col-12 col-lg-8 my-4 mx-auto text-left" data-v-07c97a07><div class="form-group" data-v-07c97a07><label'+e._ssrAttr("for","t-form-passport"+e.idNumber)+" data-v-07c97a07>Passport Number</label> <input"+e._ssrAttr("id","t-form-passport"+e.idNumber)+' type="text" placeholder="Enter passenger\'s passport number" required="required"'+e._ssrAttr("value",e.passenger.passport_number)+' class="form-control" data-v-07c97a07></div> <div class="form-group row" data-v-07c97a07><div class="col-12 col-md-6" data-v-07c97a07><label'+e._ssrAttr("for","t-form-issued"+e.idNumber)+" data-v-07c97a07>Passport Issued Date</label> <input"+e._ssrAttr("id","t-form-issued"+e.idNumber)+' type="date" required="required"'+e._ssrAttr("value",e.passenger.issued_date)+' class="form-control" data-v-07c97a07></div> <div class="col-12 col-md-6" data-v-07c97a07><label'+e._ssrAttr("for","t-form-expiry"+e.idNumber)+" data-v-07c97a07>Passport Expiry Date</label> <input"+e._ssrAttr("id","t-form-expiry"+e.idNumber)+' type="date" required="required"'+e._ssrAttr("value",e.passenger.expiry_date)+' class="form-control" data-v-07c97a07></div></div> <div class="form-group" data-v-07c97a07><label'+e._ssrAttr("for","t-form-country"+e.idNumber)+" data-v-07c97a07>Issuing Country</label> <input"+e._ssrAttr("id","t-form-country"+e.idNumber)+' type="text" placeholder="Passport issuing country" required="required"'+e._ssrAttr("value",e.passenger.issuing_country)+' class="form-control" data-v-07c97a07></div></div></div></div> <div class="card-footer border-0 text-right bg-white" data-v-07c97a07>'+(e.stepThreeDisable?'<button disabled="disabled" class="btn btn-secondary text-white my-2" data-v-07c97a07>\n              Please complete all fields\n            </button>':'<a data-toggle="collapse"'+e._ssrAttr("data-target","#stepThree-"+e.idNumber)+' role="button" aria-expanded="false"'+e._ssrAttr("aria-controls","stepThree-"+e.idNumber)+' class="btn btn-lg btn-primary text-white my-2 " data-v-07c97a07>Next</a>')+"</div></div> <div"+e._ssrAttr("id","stepThree-"+e.idNumber)+e._ssrAttr("data-parent","#stepsAccordion-"+e.idNumber)+' class="collapse" data-v-07c97a07><div class="card-body " data-v-07c97a07><div class="row" data-v-07c97a07><div class="col-12 col-lg-6 my-4 mx-auto text-left" data-v-07c97a07>'+(e.stepTwoDisable||e.stepThreeDisable?"\x3c!----\x3e":'<div class="table-responsive" data-v-07c97a07><table class="table table-borderless" data-v-07c97a07><tbody data-v-07c97a07><tr data-v-07c97a07><th scope="row" data-v-07c97a07>Full Name</th> <td class="text-left" data-v-07c97a07>'+e._ssrEscape("\n                          "+e._s(e.passenger.title)+" "+e._s(e.passenger.person_name)+"\n                        ")+'</td></tr> <tr data-v-07c97a07><th scope="row" data-v-07c97a07>Date of Birth</th> <td class="text-left" data-v-07c97a07>'+e._ssrEscape(e._s(e.passenger.dob))+'</td></tr> <tr data-v-07c97a07><th scope="row" data-v-07c97a07>Passport Number</th> <td class="text-left" data-v-07c97a07>'+e._ssrEscape("\n                          "+e._s(e.passenger.passport_number)+"\n                        ")+'</td></tr> <tr data-v-07c97a07><th scope="row" data-v-07c97a07>Passport Issued Date</th> <td class="text-left" data-v-07c97a07>'+e._ssrEscape(e._s(e.passenger.issued_date))+'</td></tr> <tr data-v-07c97a07><th scope="row" data-v-07c97a07>Passport Expiry Date</th> <td class="text-left" data-v-07c97a07>'+e._ssrEscape(e._s(e.passenger.expiry_date))+'</td></tr> <tr data-v-07c97a07><th scope="row" data-v-07c97a07>Passport Issuing Country</th> <td class="text-left" data-v-07c97a07>'+e._ssrEscape("\n                          "+e._s(e.passenger.issuing_country)+"\n                        ")+'</td></tr> <tr data-v-07c97a07><th scope="row" data-v-07c97a07>Food Preference</th> <td class="text-left" data-v-07c97a07>'+e._ssrEscape("\n                          "+e._s(e.passenger.food_preference)+"\n                        ")+'</td></tr> <tr data-v-07c97a07><th scope="row" data-v-07c97a07>Room Choice</th> <td class="text-left" data-v-07c97a07>'+e._ssrEscape("\n                          "+e._s(e.room_choice.room_name)+" - Rp.\n                          "+e._s(e.room_choice.room_price)+".000\n                        ")+"</td></tr></tbody></table></div>")+'</div></div></div> <div class="card-footer border-0 text-right bg-white" data-v-07c97a07><div class="row" data-v-07c97a07><div class="col-12 text-center" data-v-07c97a07><button type="submit" class="btn btn-lg btn-success text-white my-2 px-4" data-v-07c97a07>\n                  Save Passenger\n                </button></div></div></div></div>')],2)],2)])],2)}),[],!1,(function(e){var t=r(62);t.__inject__&&t.__inject__(e)}),"07c97a07","f2b9f0fa").exports},data:()=>({formLoading:!1,passengers:null}),computed:{...Object(o.mapGetters)({TRANSACTION:"transactions/TRANSACTION"}),disabled(){return this.passengers>0},item(){return this.TRANSACTION.data?this.TRANSACTION.data:{}}},async mounted(){await this.GET_TRANSACTION(this.$route.params.id),this.addPassengers()},methods:{...Object(o.mapActions)({CREATE_PASSENGERS:"passengers/CREATE_PASSENGERS",GET_TRANSACTION:"transactions/GET_TRANSACTION"}),async createPassengers(){this.formLoading=!0;const form={transaction_id:this.$route.params.id,passengers:this.passengers};try{await this.CREATE_PASSENGERS(form),await this.GET_TRANSACTION(this.$route.params.id),this.$swal({background:"#f5f5f5",icon:"success",title:"Created!",text:"Passengers Created!",showConfirmButton:!0})}catch(e){this.$swal({background:"#f5f5f5",icon:"error",title:"Error!",text:"Please double check your inputs before submitting!",showConfirmButton:!0})}finally{this.formLoading=!1}},addPassengers(){const e=this.item.adults+this.item.children+this.item.infants;this.passengers=e,this.$swal({position:"top",background:"#f5f5f5",icon:"success",title:"Created!",text:e+" Passengers form created! Please double check your inputs before submitting!",showConfirmButton:!0})}}},c=Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"background-color":"#f4f4f4"}},[e._ssrNode('<div class="container"><div class="row"><div class="col-12 mt-100"><div class="section-heading dark text-center"><span></span> <h4>Add Passengers</h4> <p>Fill all passengers detail</p></div></div></div></div> '),e.TRANSACTION.data?e._ssrNode("<div>","</div>",[r("client-only",[r("div",{staticClass:"container pb-4"},e._l(e.passengers,(function(e,t){return r("div",{key:t},[r("stepper",{attrs:{"id-number":""+parseInt(t)}})],1)})),0)])],1):e._ssrNode("<div>","</div>",[r("client-only",[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("content-placeholders",{attrs:{rounded:!0}},[r("content-placeholders-heading"),e._v(" "),r("content-placeholders-img")],1),e._v(" "),r("content-placeholders",{attrs:{rounded:!0}},[r("content-placeholders-heading"),e._v(" "),r("content-placeholders-img")],1)],1)])])],1)],2)}),[],!1,null,null,"4de56c0e");t.default=c.exports}};