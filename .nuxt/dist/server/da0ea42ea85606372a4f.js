exports.ids=[15],exports.modules={46:function(t,e,r){var content=r(63);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var o=r(4).default;t.exports.__inject__=function(t){o("4099ebad",content,!0,t)}},62:function(t,e,r){"use strict";r.r(e);var o=r(46),n=r.n(o);for(var d in o)["default"].indexOf(d)<0&&function(t){r.d(e,t,(function(){return o[t]}))}(d);e.default=n.a},63:function(t,e,r){(e=r(3)(!1)).push([t.i,".card-header .nav-link[aria-expanded=true][data-v-06af0108]{background-color:#fff;color:#00f}",""]),t.exports=e},71:function(t,e,r){"use strict";r.r(e);var o=r(2),n={name:"FormStepperOne",props:{idNumber:{type:String,default:""}},data(){return{passenger:{transaction_id:this.$route.params.id,person_name:"",title:"",dob:null,passport_number:"",issued_date:null,expiry_date:null,issuing_country:"",food_preference:"",room_choice_id:null}}},computed:{...Object(o.mapGetters)({TRANSACTION:"transactions/TRANSACTION"}),item(){return this.TRANSACTION.data}},mounted(){},methods:{...Object(o.mapMutations)({PUSH_PASSENGER:"stepper-form/PUSH_PASSENGER"})}},d=r(1);var l={name:"AddPassengersPage",components:{Stepper:Object(d.a)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._ssrNode('<h5 class="mb-0 text-center" data-v-06af0108>'+t._ssrEscape("Passenger "+t._s(t.idNumber))+"</h5> <div"+t._ssrAttr("id","stepsAccordion-"+t.idNumber)+' class="accordion" data-v-06af0108><div class="card border-0 text-center my-4 shadow" data-v-06af0108><div class="card-header bg-light" data-v-06af0108><ul class="nav nav-tabs card-header-tabs" data-v-06af0108><li class="nav-item" data-v-06af0108><a data-toggle="collapse"'+t._ssrAttr("data-target","#stepOne-"+t.idNumber)+' role="button" aria-expanded="false"'+t._ssrAttr("aria-controls","stepOne-"+t.idNumber)+' class="nav-link" data-v-06af0108>\n              Step One\n            </a></li> <li class="nav-item" data-v-06af0108><a data-toggle="collapse"'+t._ssrAttr("data-target","#stepTwo-"+t.idNumber)+' role="button" aria-expanded="false"'+t._ssrAttr("aria-controls","stepTwo-"+t.idNumber)+' class="nav-link" data-v-06af0108>Step Two</a></li></ul></div> <div'+t._ssrAttr("id","stepOne-"+t.idNumber)+t._ssrAttr("data-parent","#stepsAccordion-"+t.idNumber)+' class="collapse " data-v-06af0108><div class="card-body " data-v-06af0108><h5 class="card-title" data-v-06af0108>Special title treatment</h5> <p class="card-text" data-v-06af0108>\n            With supporting text below as a natural lead-in to additional\n            content.\n          </p> <a data-toggle="collapse"'+t._ssrAttr("data-target","#stepTwo-"+t.idNumber)+' role="button" aria-expanded="false"'+t._ssrAttr("aria-controls","stepTwo-"+t.idNumber)+' class="btn btn-primary" data-v-06af0108>Go somewhere</a></div></div> <div'+t._ssrAttr("id","stepTwo-"+t.idNumber)+t._ssrAttr("data-parent","#stepsAccordion-"+t.idNumber)+' class="collapse" data-v-06af0108><div class="card-body " data-v-06af0108><h5 class="card-title" data-v-06af0108>Special title treatment</h5> <p class="card-text" data-v-06af0108>\n            With supporting text below as a natural lead-in to additional\n            content.\n          </p></div></div></div></div>')])}),[],!1,(function(t){var e=r(62);e.__inject__&&e.__inject__(t)}),"06af0108","f2b9f0fa").exports},data:()=>({formLoading:!1,passengers:[]}),computed:{...Object(o.mapGetters)({TRANSACTION:"transactions/TRANSACTION"}),disabled(){return this.passengers.length>0},item(){return this.TRANSACTION.data?this.TRANSACTION.data:{}}},created(){this.GET_TRANSACTION(this.$route.params.id)},mounted(){setTimeout(()=>{this.addPassengers()},1e3)},methods:{...Object(o.mapActions)({CREATE_PASSENGERS:"passengers/CREATE_PASSENGERS",GET_TRANSACTION:"transactions/GET_TRANSACTION"}),async createPassengers(){this.formLoading=!0;const form={transaction_id:this.$route.params.id,passengers:this.passengers};try{await this.CREATE_PASSENGERS(form),await this.GET_TRANSACTION(this.$route.params.id),this.$swal({background:"#f5f5f5",icon:"success",title:"Created!",text:"Passengers Created!",showConfirmButton:!0})}catch(t){this.$swal({background:"#f5f5f5",icon:"error",title:"Error!",text:"Please double check your inputs before submitting!",showConfirmButton:!0})}finally{this.formLoading=!1}},addPassengers(){const t=this.item.adults+this.item.children+this.item.infants;let i;for(i=0;i<t;i++)this.passengers.push({transaction_id:this.$route.params.id,person_name:"",title:"",dob:null,passport_number:"",issued_date:null,expiry_date:null,issuing_country:"",food_preference:"",room_choice_id:null});this.$swal({position:"top",background:"#f5f5f5",icon:"success",title:"Created!",text:t+" Passengers form created! Please double check your inputs before submitting!",showConfirmButton:!0})}}},c=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._ssrNode('<div class="container"><div class="row"><div class="col-12 mt-100"><div class="section-heading dark text-center"><span></span> <h4>Add Passengers</h4> <p>Fill all passengers detail</p></div></div></div></div> '),t.TRANSACTION.data?t._ssrNode("<div>","</div>",[r("client-only",[r("div",{staticClass:"container"},t._l(t.passengers,(function(t,e){return r("div",{key:e},[r("stepper",{attrs:{"id-number":""+parseInt(e)}})],1)})),0)]),t._ssrNode(' <hr class="my-5"> '),t.item.forms.passengers.length<1?t._ssrNode("<form>","</form>",[t._ssrNode('<div class="row mt-2">',"</div>",t._l(t.passengers,(function(e,o){return t._ssrNode('<div class="col-12 col-md-6 my-2 border p-5">',"</div>",[t._ssrNode("<p>"+t._ssrEscape("Passenger Number "+t._s(o+1))+'</p> <div class="form-group"><label'+t._ssrAttr("for","t-form-name"+o)+">Full Name</label> <input"+t._ssrAttr("id","t-form-name"+o)+' type="text" required="required"'+t._ssrAttr("value",e.person_name)+' class="form-control"></div> '),t._ssrNode('<div class="form-group row">',"</div>",[t._ssrNode('<div class="col-6">',"</div>",[t._ssrNode("<label"+t._ssrAttr("for","t-form-title"+o)+">Title</label> "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"passenger.title"}],staticClass:"form-control form-control-sm",attrs:{id:"t-form-title"+o,required:""},on:{change:function(r){var o=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"title",r.target.multiple?o:o[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Choose...")]),t._v(" "),r("option",{attrs:{value:"Mr."}},[t._v("Mr.")]),t._v(" "),r("option",{attrs:{value:"Ms."}},[t._v("Ms.")]),t._v(" "),r("option",{attrs:{Value:"Mrs."}},[t._v("Mrs.")])])],2),t._ssrNode(" "),t._ssrNode('<div class="col-6">',"</div>",[t._ssrNode("<label"+t._ssrAttr("for","t-form-food"+o)+">Food Preference</label> "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.food_preference,expression:"passenger.food_preference"}],staticClass:"form-control form-control-sm",attrs:{id:"t-form-food"+o,required:""},on:{change:function(r){var o=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"food_preference",r.target.multiple?o:o[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Choose...")]),t._v(" "),r("option",{attrs:{value:"Vegetarian"}},[t._v("Vegetarian")]),t._v(" "),r("option",{attrs:{value:"Non-Vegetarian"}},[t._v("Non-Vegetarian")]),t._v(" "),r("option",{attrs:{value:"Muslim-Food"}},[t._v("Muslim-Food")])])],2)],2),t._ssrNode(' <div class="form-group"><label'+t._ssrAttr("for","t-form-dob"+o)+">Date of Birth</label> <input"+t._ssrAttr("id","t-form-dob"+o)+' type="date" required="required"'+t._ssrAttr("value",e.dob)+' class="form-control"></div> <div class="form-group"><label'+t._ssrAttr("for","t-form-passport"+o)+">Passport Number</label> <input"+t._ssrAttr("id","t-form-passport"+o)+' type="text" required="required"'+t._ssrAttr("value",e.passport_number)+' class="form-control"></div> <div class="form-group row"><div class="col-12 col-md-6"><label'+t._ssrAttr("for","t-form-issued"+o)+">Passport Issued Date</label> <input"+t._ssrAttr("id","t-form-issued"+o)+' type="date" required="required"'+t._ssrAttr("value",e.issued_date)+' class="form-control"></div> <div class="col-12 col-md-6"><label'+t._ssrAttr("for","t-form-expiry"+o)+">Passport Expiry Date</label> <input"+t._ssrAttr("id","t-form-expiry"+o)+' type="date" required="required"'+t._ssrAttr("value",e.expiry_date)+' class="form-control"></div></div> <div class="form-group"><label'+t._ssrAttr("for","t-form-country"+o)+">Issuing Country</label> <input"+t._ssrAttr("id","t-form-country"+o)+' type="text" required="required"'+t._ssrAttr("value",e.issuing_country)+' class="form-control"></div> '),t._ssrNode('<div class="form-group">',"</div>",[t._ssrNode("<label"+t._ssrAttr("for","t-form-room"+o)+">Room Choice</label> "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.room_choice_id,expression:"passenger.room_choice_id"}],staticClass:"form-control",attrs:{id:"t-form-room"+o,required:""},on:{change:function(r){var o=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"room_choice_id",r.target.multiple?o:o[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Choose...")]),t._v(" "),t._l(t.item.package.room_choices,(function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.room_name)+" - Rp.\n                "+t._s(e.room_price)+".000")])}))],2)],2)],2)})),0),t._ssrNode(" "+(t.passengers.length>0?'<div class="row"><div class="col-12 p-0 mt-2">'+(t.formLoading?'<button disabled="disabled" class="btn btn-block btn-lg btn-success">\n            Submitting All Passengers...\n          </button>':'<button type="submit" class="btn btn-block btn-lg btn-success">\n            Submit All Passengers\n          </button>')+"</div></div>":"\x3c!----\x3e"))],2):t._e()],2):t._e()],2)}),[],!1,null,null,"4de56c0e");e.default=c.exports}};