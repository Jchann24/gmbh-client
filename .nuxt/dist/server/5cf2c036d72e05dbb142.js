exports.ids=[15],exports.modules={46:function(e,t,r){var content=r(63);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var d=r(4).default;e.exports.__inject__=function(e){d("24359a22",content,!0,e)}},62:function(e,t,r){"use strict";r.r(t);var d=r(46),o=r.n(d);for(var n in d)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return d[e]}))}(n);t.default=o.a},63:function(e,t,r){(t=r(3)(!1)).push([e.i,".card-header .nav-link[aria-expanded=true][data-v-2e1a59bd]{background-color:#fff;color:#408bb9!important}.nav-link[data-v-2e1a59bd]{border-radius:10px 10px 0 0;color:#fff!important}.card-header[data-v-2e1a59bd]{background-color:#6ea8cc}",""]),e.exports=t},71:function(e,t,r){"use strict";r.r(t);var d=r(2),o={name:"FormStepperOne",props:{idNumber:{type:String,default:""}},data(){return{passenger:{transaction_id:this.$route.params.id,person_name:"",title:"",dob:null,passport_number:"",issued_date:null,expiry_date:null,issuing_country:"",food_preference:"",room_choice_id:null}}},computed:{...Object(d.mapGetters)({TRANSACTION:"transactions/TRANSACTION"}),item(){return this.TRANSACTION.data},stepTwoDisable(){return""===this.passenger.person_name||""===this.passenger.title||null===this.passenger.dob||null===this.passenger.room_choice_id||""===this.passenger.food_preference},stepThreeDisable(){return""===this.passenger.passport_number||null===this.passenger.issued_date||null===this.passenger.expiry_date||""===this.passenger.issuing_country}},mounted(){},methods:{...Object(d.mapMutations)({PUSH_PASSENGER:"stepper-form/PUSH_PASSENGER"})}},n=r(1);var l={name:"AddPassengersPage",components:{Stepper:Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._ssrNode('<h4 class="my-2 py-2 text-center" data-v-2e1a59bd>'+e._ssrEscape("\n    Passenger "+e._s(parseInt(e.idNumber)+1)+" - "+e._s(e.passenger.title)+"\n    "+e._s(e.passenger.person_name)+"\n  ")+"</h4> "),e._ssrNode("<div"+e._ssrAttr("id","stepsAccordion-"+e.idNumber)+' class="accordion" data-v-2e1a59bd>',"</div>",[e._ssrNode('<div class="card border-0 text-center my-4 shadow" style="border-radius: 15px" data-v-2e1a59bd>',"</div>",[e._ssrNode('<div class="card-header" data-v-2e1a59bd><ul class="nav nav-tabs card-header-tabs mt-4" data-v-2e1a59bd><li class="nav-item" data-v-2e1a59bd><a data-toggle="collapse"'+e._ssrAttr("data-target","#stepOne-"+e.idNumber)+' role="button" aria-expanded="true"'+e._ssrAttr("aria-controls","stepOne-"+e.idNumber)+' class="nav-link" data-v-2e1a59bd>\n              Person Details\n            </a></li> <li class="nav-item" data-v-2e1a59bd>'+(e.stepTwoDisable?'<a class="nav-link disabled" data-v-2e1a59bd>Passport (Disabled)</a>':'<a data-toggle="collapse"'+e._ssrAttr("data-target","#stepTwo-"+e.idNumber)+' role="button" aria-expanded="false"'+e._ssrAttr("aria-controls","stepTwo-"+e.idNumber)+' class="nav-link" data-v-2e1a59bd>Passport</a>')+"</li></ul></div> "),e._ssrNode("<form data-v-2e1a59bd>","</form>",[e._ssrNode("<div"+e._ssrAttr("id","stepOne-"+e.idNumber)+e._ssrAttr("data-parent","#stepsAccordion-"+e.idNumber)+' class="collapse show " data-v-2e1a59bd>',"</div>",[e._ssrNode('<div class="card-body " data-v-2e1a59bd>',"</div>",[e._ssrNode('<div class="row" data-v-2e1a59bd>',"</div>",[e._ssrNode('<div class="col-12 col-md-8 my-4 mx-auto text-left" data-v-2e1a59bd>',"</div>",[e._ssrNode('<div class="form-group" data-v-2e1a59bd><label'+e._ssrAttr("for","t-form-name"+e.idNumber)+" data-v-2e1a59bd>Full Name</label> <input"+e._ssrAttr("id","t-form-name"+e.idNumber)+' type="text" placeholder="Enter passenger\'s full name" required="required"'+e._ssrAttr("value",e.passenger.person_name)+' class="form-control" data-v-2e1a59bd></div> '),e._ssrNode('<div class="form-group row" data-v-2e1a59bd>',"</div>",[e._ssrNode('<div class="col-6" data-v-2e1a59bd>',"</div>",[e._ssrNode("<label"+e._ssrAttr("for","t-form-title"+e.idNumber)+" data-v-2e1a59bd>Title</label> "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.passenger.title,expression:"passenger.title"}],staticClass:"form-control",attrs:{id:"t-form-title"+e.idNumber,required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.passenger,"title",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Choose...")]),e._v(" "),r("option",{attrs:{value:"Mr."}},[e._v("Mr.")]),e._v(" "),r("option",{attrs:{value:"Ms."}},[e._v("Ms.")]),e._v(" "),r("option",{attrs:{Value:"Mrs."}},[e._v("Mrs.")])])],2),e._ssrNode(" "),e._ssrNode('<div class="col-6" data-v-2e1a59bd>',"</div>",[e._ssrNode("<label"+e._ssrAttr("for","t-form-food"+e.idNumber)+" data-v-2e1a59bd>Food Preference</label> "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.passenger.food_preference,expression:"passenger.food_preference"}],staticClass:"form-control",attrs:{id:"t-form-food"+e.idNumber,required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.passenger,"food_preference",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Choose...")]),e._v(" "),r("option",{attrs:{value:"Vegetarian"}},[e._v("Vegetarian")]),e._v(" "),r("option",{attrs:{value:"Non-Vegetarian"}},[e._v("Non-Vegetarian")]),e._v(" "),r("option",{attrs:{value:"Muslim-Food"}},[e._v("Muslim-Food")])])],2)],2),e._ssrNode(' <div class="form-group" data-v-2e1a59bd><label'+e._ssrAttr("for","t-form-dob"+e.idNumber)+" data-v-2e1a59bd>Date of Birth</label> <input"+e._ssrAttr("id","t-form-dob"+e.idNumber)+' type="date" required="required"'+e._ssrAttr("value",e.passenger.dob)+' class="form-control" data-v-2e1a59bd></div> '),e._ssrNode('<div class="form-group" data-v-2e1a59bd>',"</div>",[e._ssrNode("<label"+e._ssrAttr("for","t-form-room"+e.idNumber)+" data-v-2e1a59bd>Room Choice</label> "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.passenger.room_choice_id,expression:"passenger.room_choice_id"}],staticClass:"form-control",attrs:{id:"t-form-room"+e.idNumber,required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.passenger,"room_choice_id",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Choose...")]),e._v(" "),e._l(e.item.package.room_choices,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.room_name)+" - Rp.\n                      "+e._s(t.room_price)+".000")])}))],2)],2)],2)])]),e._ssrNode(' <div class="card-footer border-0 text-right bg-white" data-v-2e1a59bd>'+(e.stepTwoDisable?'<button disabled="disabled" class="btn btn-secondary text-white my-2" data-v-2e1a59bd>\n              Please complete all fields\n            </button>':'<a data-toggle="collapse"'+e._ssrAttr("data-target","#stepTwo-"+e.idNumber)+' role="button" aria-expanded="false"'+e._ssrAttr("aria-controls","stepTwo-"+e.idNumber)+' class="btn btn-primary text-white my-2 " data-v-2e1a59bd>Next</a>')+"</div>")],2),e._ssrNode(" <div"+e._ssrAttr("id","stepTwo-"+e.idNumber)+e._ssrAttr("data-parent","#stepsAccordion-"+e.idNumber)+' class="collapse" data-v-2e1a59bd><div class="card-body " data-v-2e1a59bd><div class="row" data-v-2e1a59bd><div class="col-12 col-md-8 my-4 mx-auto text-left" data-v-2e1a59bd><div class="form-group" data-v-2e1a59bd><label'+e._ssrAttr("for","t-form-passport"+e.idNumber)+" data-v-2e1a59bd>Passport Number</label> <input"+e._ssrAttr("id","t-form-passport"+e.idNumber)+' type="text" placeholder="Enter passenger\'s passport number" required="required"'+e._ssrAttr("value",e.passenger.passport_number)+' class="form-control" data-v-2e1a59bd></div> <div class="form-group row" data-v-2e1a59bd><div class="col-12 col-md-6" data-v-2e1a59bd><label'+e._ssrAttr("for","t-form-issued"+e.idNumber)+" data-v-2e1a59bd>Passport Issued Date</label> <input"+e._ssrAttr("id","t-form-issued"+e.idNumber)+' type="date" required="required"'+e._ssrAttr("value",e.passenger.issued_date)+' class="form-control" data-v-2e1a59bd></div> <div class="col-12 col-md-6" data-v-2e1a59bd><label'+e._ssrAttr("for","t-form-expiry"+e.idNumber)+" data-v-2e1a59bd>Passport Expiry Date</label> <input"+e._ssrAttr("id","t-form-expiry"+e.idNumber)+' type="date" required="required"'+e._ssrAttr("value",e.passenger.expiry_date)+' class="form-control" data-v-2e1a59bd></div></div> <div class="form-group" data-v-2e1a59bd><label'+e._ssrAttr("for","t-form-country"+e.idNumber)+" data-v-2e1a59bd>Issuing Country</label> <input"+e._ssrAttr("id","t-form-country"+e.idNumber)+' type="text" placeholder="Passport issuing country" required="required"'+e._ssrAttr("value",e.passenger.issuing_country)+' class="form-control" data-v-2e1a59bd></div></div></div></div> <div class="card-footer border-0 text-right bg-white" data-v-2e1a59bd><a data-toggle="collapse"'+e._ssrAttr("data-target","#stepTwo-"+e.idNumber)+' role="button" aria-expanded="false"'+e._ssrAttr("aria-controls","stepTwo-"+e.idNumber)+' class="btn btn-primary text-white my-2 " data-v-2e1a59bd>Go somewhere</a></div></div>')],2)],2)])],2)}),[],!1,(function(e){var t=r(62);t.__inject__&&t.__inject__(e)}),"2e1a59bd","f2b9f0fa").exports},data:()=>({formLoading:!1,passengers:null}),computed:{...Object(d.mapGetters)({TRANSACTION:"transactions/TRANSACTION"}),disabled(){return this.passengers>0},item(){return this.TRANSACTION.data?this.TRANSACTION.data:{}}},async mounted(){await this.GET_TRANSACTION(this.$route.params.id),this.addPassengers()},methods:{...Object(d.mapActions)({CREATE_PASSENGERS:"passengers/CREATE_PASSENGERS",GET_TRANSACTION:"transactions/GET_TRANSACTION"}),async createPassengers(){this.formLoading=!0;const form={transaction_id:this.$route.params.id,passengers:this.passengers};try{await this.CREATE_PASSENGERS(form),await this.GET_TRANSACTION(this.$route.params.id),this.$swal({background:"#f5f5f5",icon:"success",title:"Created!",text:"Passengers Created!",showConfirmButton:!0})}catch(e){this.$swal({background:"#f5f5f5",icon:"error",title:"Error!",text:"Please double check your inputs before submitting!",showConfirmButton:!0})}finally{this.formLoading=!1}},addPassengers(){const e=this.item.adults+this.item.children+this.item.infants;this.passengers=e,this.$swal({position:"top",background:"#f5f5f5",icon:"success",title:"Created!",text:e+" Passengers form created! Please double check your inputs before submitting!",showConfirmButton:!0})}}},c=Object(n.a)(l,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"background-color":"#f4f4f4"}},[this._ssrNode('<div class="container"><div class="row"><div class="col-12 mt-100"><div class="section-heading dark text-center"><span></span> <h4>Add Passengers</h4> <p>Fill all passengers detail</p></div></div></div></div> '),this.TRANSACTION.data?this._ssrNode("<div>","</div>",[t("client-only",[t("div",{staticClass:"container pb-4"},this._l(this.passengers,(function(e,r){return t("div",{key:r},[t("stepper",{attrs:{"id-number":""+parseInt(r)}})],1)})),0)])],1):this._e()],2)}),[],!1,null,null,"4de56c0e");t.default=c.exports}};