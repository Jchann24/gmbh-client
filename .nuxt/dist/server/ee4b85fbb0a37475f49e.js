exports.ids=[15],exports.modules={46:function(t,e,r){var content=r(63);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var o=r(4).default;t.exports.__inject__=function(t){o("19258b18",content,!0,t)}},62:function(t,e,r){"use strict";r.r(e);var o=r(46),d=r.n(o);for(var n in o)["default"].indexOf(n)<0&&function(t){r.d(e,t,(function(){return o[t]}))}(n);e.default=d.a},63:function(t,e,r){(e=r(3)(!1)).push([t.i,".card-header .nav-link[aria-expanded=true][data-v-474539c8]{background-color:#fff;color:#408bb9!important}.nav-link[data-v-474539c8]{border-radius:10px 10px 0 0;color:#fff!important}@media screen and (max-width:768px){.nav-link[data-v-474539c8]{border-radius:10px 10px 10px 10px;margin:5px}}.card-header[data-v-474539c8]{background-color:#6ea8cc}",""]),t.exports=e},71:function(t,e,r){"use strict";r.r(e);var o=r(2),d={name:"FormStepperOne",middleware:["auth"],props:{idNumber:{type:String,default:""}},data(){return{passenger:{transaction_id:this.$route.params.id,person_name:"",title:"",dob:null,passport_number:"",issued_date:null,expiry_date:null,issuing_country:"",food_preference:"",room_choice_id:null},room_choice:null,saved:0}},computed:{...Object(o.mapGetters)({TRANSACTION:"transactions/TRANSACTION"}),item(){return this.TRANSACTION.data},stepTwoDisable(){return""===this.passenger.person_name||""===this.passenger.title||null===this.passenger.dob||null===this.room_choice||""===this.passenger.food_preference},stepThreeDisable(){return""===this.passenger.passport_number||null===this.passenger.issued_date||null===this.passenger.expiry_date||""===this.passenger.issuing_country||this.stepTwoDisable}},mounted(){},methods:{...Object(o.mapMutations)({PUSH_PASSENGER:"stepper-form/PUSH_PASSENGER"}),pushPassenger(){this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, save passenger!"}).then(t=>{t.value&&(this.passenger.room_choice_id=this.room_choice.id,this.stepTwoDisable||this.stepThreeDisable||(this.PUSH_PASSENGER(this.passenger),this.saved++,this.$swal({icon:"success",title:"Saved! Please proceed.",showConfirmButton:!0})))})}}},n=r(1);var l={name:"AddPassengersPage",middleware:["auth"],components:{Stepper:Object(n.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._ssrNode('<div class="row" data-v-474539c8><div class="col-12" data-v-474539c8><h4 class="my-2 py-2 text-center" data-v-474539c8>'+t._ssrEscape("\n        Passenger "+t._s(parseInt(t.idNumber)+1)+" - "+t._s(t.passenger.title)+"\n        "+t._s(t.passenger.person_name)+"\n      ")+"</h4> "+(t.saved>0?'<div class="row" data-v-474539c8><div class="col-12 text-center" data-v-474539c8><i class="pe-7s-check text-success display-4" data-v-474539c8></i></div></div>':"\x3c!----\x3e")+"</div></div> "),t._ssrNode("<div"+t._ssrAttr("id","stepsAccordion-"+t.idNumber)+' class="accordion" data-v-474539c8>',"</div>",[t._ssrNode('<div class="card border-0 text-center my-4 shadow" style="border-radius: 15px" data-v-474539c8>',"</div>",[t._ssrNode('<div class="card-header" data-v-474539c8><ul class="nav nav-tabs nav-fill flex-column flex-sm-row card-header-tabs mt-lg-4" data-v-474539c8><li class="nav-item" data-v-474539c8><a data-toggle="collapse"'+t._ssrAttr("data-target","#stepOne-"+t.idNumber)+' role="button" aria-expanded="true"'+t._ssrAttr("aria-controls","stepOne-"+t.idNumber)+' class="flex-sm-fill nav-link" data-v-474539c8>\n              Person Details\n            </a></li> <li class="nav-item" data-v-474539c8>'+(t.stepTwoDisable?'<a class="flex-sm-fill nav-link disabled" data-v-474539c8>Passport (Disabled)</a>':'<a data-toggle="collapse"'+t._ssrAttr("data-target","#stepTwo-"+t.idNumber)+' role="button" aria-expanded="false"'+t._ssrAttr("aria-controls","stepTwo-"+t.idNumber)+' class="flex-sm-fill nav-link" data-v-474539c8>Passport</a>')+'</li> <li class="nav-item" data-v-474539c8>'+(t.stepThreeDisable?'<a class="flex-sm-fill nav-link disabled" data-v-474539c8>Review (Disabled)</a>':'<a data-toggle="collapse"'+t._ssrAttr("data-target","#stepThree-"+t.idNumber)+' role="button" aria-expanded="false"'+t._ssrAttr("aria-controls","stepThree-"+t.idNumber)+' class="flex-sm-fill nav-link" data-v-474539c8>Review Data</a>')+"</li></ul></div> "),t._ssrNode("<form data-v-474539c8>","</form>",[t._ssrNode("<div"+t._ssrAttr("id","stepOne-"+t.idNumber)+t._ssrAttr("data-parent","#stepsAccordion-"+t.idNumber)+' class="collapse show " data-v-474539c8>',"</div>",[t._ssrNode('<div class="card-body " data-v-474539c8>',"</div>",[t._ssrNode('<div class="row" data-v-474539c8>',"</div>",[t._ssrNode('<div class="col-12 col-lg-8 my-4 mx-auto text-left" data-v-474539c8>',"</div>",[t._ssrNode('<div class="form-group" data-v-474539c8><label'+t._ssrAttr("for","t-form-name"+t.idNumber)+" data-v-474539c8>Full Name</label> <input"+t._ssrAttr("id","t-form-name"+t.idNumber)+' type="text" placeholder="Enter passenger\'s full name" required="required"'+t._ssrAttr("readonly",t.saved>0)+t._ssrAttr("value",t.passenger.person_name)+' class="form-control" data-v-474539c8></div> '),t._ssrNode('<div class="form-group row" data-v-474539c8>',"</div>",[t._ssrNode('<div class="col-6" data-v-474539c8>',"</div>",[t._ssrNode("<label"+t._ssrAttr("for","t-form-title"+t.idNumber)+" data-v-474539c8>Title</label> "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.passenger.title,expression:"passenger.title"}],staticClass:"form-control",attrs:{id:"t-form-title"+t.idNumber,required:"",readonly:t.saved>0},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.passenger,"title",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Choose...")]),t._v(" "),r("option",{attrs:{value:"Mr."}},[t._v("Mr.")]),t._v(" "),r("option",{attrs:{value:"Ms."}},[t._v("Ms.")]),t._v(" "),r("option",{attrs:{Value:"Mrs."}},[t._v("Mrs.")])])],2),t._ssrNode(" "),t._ssrNode('<div class="col-6" data-v-474539c8>',"</div>",[t._ssrNode("<label"+t._ssrAttr("for","t-form-food"+t.idNumber)+" data-v-474539c8>Food Preference</label> "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.passenger.food_preference,expression:"passenger.food_preference"}],staticClass:"form-control",attrs:{id:"t-form-food"+t.idNumber,required:"",readonly:t.saved>0},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.passenger,"food_preference",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Choose...")]),t._v(" "),r("option",{attrs:{value:"Vegetarian"}},[t._v("Vegetarian")]),t._v(" "),r("option",{attrs:{value:"Non-Vegetarian"}},[t._v("Non-Vegetarian")]),t._v(" "),r("option",{attrs:{value:"Muslim-Food"}},[t._v("Muslim-Food")])])],2)],2),t._ssrNode(' <div class="form-group" data-v-474539c8><label'+t._ssrAttr("for","t-form-dob"+t.idNumber)+" data-v-474539c8>Date of Birth</label> <input"+t._ssrAttr("id","t-form-dob"+t.idNumber)+' type="date" required="required"'+t._ssrAttr("readonly",t.saved>0)+t._ssrAttr("value",t.passenger.dob)+' class="form-control" data-v-474539c8></div> '),t._ssrNode('<div class="form-group" data-v-474539c8>',"</div>",[t._ssrNode("<label"+t._ssrAttr("for","t-form-room"+t.idNumber)+" data-v-474539c8>Room Choice</label> "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.room_choice,expression:"room_choice"}],staticClass:"form-control",attrs:{id:"t-form-room"+t.idNumber,required:"",readonly:t.saved>0},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.room_choice=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Choose...")]),t._v(" "),t._l(t.item.package.room_choices,(function(e){return r("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.room_name)+" - Rp.\n                      "+t._s(e.room_price)+".000")])}))],2)],2)],2)])]),t._ssrNode(' <div class="card-footer border-0 text-right bg-white" data-v-474539c8>'+(t.stepTwoDisable?'<button disabled="disabled" class="btn btn-lg btn-secondary text-white my-2" data-v-474539c8>\n              Please complete all fields\n            </button>':'<a data-toggle="collapse"'+t._ssrAttr("data-target","#stepTwo-"+t.idNumber)+' role="button" aria-expanded="false"'+t._ssrAttr("aria-controls","stepTwo-"+t.idNumber)+' class="btn btn-lg btn-primary text-white my-2 " data-v-474539c8>Next</a>')+"</div>")],2),t._ssrNode(" <div"+t._ssrAttr("id","stepTwo-"+t.idNumber)+t._ssrAttr("data-parent","#stepsAccordion-"+t.idNumber)+' class="collapse" data-v-474539c8><div class="card-body " data-v-474539c8><div class="row" data-v-474539c8><div class="col-12 col-lg-8 my-4 mx-auto text-left" data-v-474539c8><div class="form-group" data-v-474539c8><label'+t._ssrAttr("for","t-form-passport"+t.idNumber)+" data-v-474539c8>Passport Number</label> <input"+t._ssrAttr("id","t-form-passport"+t.idNumber)+' type="text" placeholder="Enter passenger\'s passport number" required="required"'+t._ssrAttr("readonly",t.saved>0)+t._ssrAttr("value",t.passenger.passport_number)+' class="form-control" data-v-474539c8></div> <div class="form-group row" data-v-474539c8><div class="col-12 col-md-6" data-v-474539c8><label'+t._ssrAttr("for","t-form-issued"+t.idNumber)+" data-v-474539c8>Passport Issued Date</label> <input"+t._ssrAttr("id","t-form-issued"+t.idNumber)+' type="date" required="required"'+t._ssrAttr("readonly",t.saved>0)+t._ssrAttr("value",t.passenger.issued_date)+' class="form-control" data-v-474539c8></div> <div class="col-12 col-md-6 mt-3" data-v-474539c8><label'+t._ssrAttr("for","t-form-expiry"+t.idNumber)+" data-v-474539c8>Passport Expiry Date</label> <input"+t._ssrAttr("id","t-form-expiry"+t.idNumber)+' type="date" required="required"'+t._ssrAttr("readonly",t.saved>0)+t._ssrAttr("value",t.passenger.expiry_date)+' class="form-control" data-v-474539c8></div></div> <div class="form-group" data-v-474539c8><label'+t._ssrAttr("for","t-form-country"+t.idNumber)+" data-v-474539c8>Issuing Country</label> <input"+t._ssrAttr("id","t-form-country"+t.idNumber)+' type="text" placeholder="Passport issuing country" required="required"'+t._ssrAttr("readonly",t.saved>0)+t._ssrAttr("value",t.passenger.issuing_country)+' class="form-control" data-v-474539c8></div></div></div></div> <div class="card-footer border-0 text-right bg-white" data-v-474539c8>'+(t.stepThreeDisable?'<button disabled="disabled" class="btn btn-lg btn-secondary text-white my-2" data-v-474539c8>\n              Please complete all fields\n            </button>':'<a data-toggle="collapse"'+t._ssrAttr("data-target","#stepThree-"+t.idNumber)+' role="button" aria-expanded="false"'+t._ssrAttr("aria-controls","stepThree-"+t.idNumber)+' class="btn btn-lg btn-primary text-white my-2 " data-v-474539c8>Next</a>')+"</div></div> <div"+t._ssrAttr("id","stepThree-"+t.idNumber)+t._ssrAttr("data-parent","#stepsAccordion-"+t.idNumber)+' class="collapse" data-v-474539c8><div class="card-body " data-v-474539c8><div class="row" data-v-474539c8><div class="col-12 col-lg-6 my-4 mx-auto text-left" data-v-474539c8>'+(t.stepTwoDisable||t.stepThreeDisable?"\x3c!----\x3e":'<div class="table-responsive" data-v-474539c8><table class="table table-borderless" data-v-474539c8><tbody data-v-474539c8><tr data-v-474539c8><th scope="row" data-v-474539c8>Full Name</th> <td class="text-left" data-v-474539c8>'+t._ssrEscape("\n                          "+t._s(t.passenger.title)+" "+t._s(t.passenger.person_name)+"\n                        ")+'</td></tr> <tr data-v-474539c8><th scope="row" data-v-474539c8>Date of Birth</th> <td class="text-left" data-v-474539c8>'+t._ssrEscape(t._s(t.passenger.dob))+'</td></tr> <tr data-v-474539c8><th scope="row" data-v-474539c8>Passport Number</th> <td class="text-left" data-v-474539c8>'+t._ssrEscape("\n                          "+t._s(t.passenger.passport_number)+"\n                        ")+'</td></tr> <tr data-v-474539c8><th scope="row" data-v-474539c8>Passport Issued Date</th> <td class="text-left" data-v-474539c8>'+t._ssrEscape(t._s(t.passenger.issued_date))+'</td></tr> <tr data-v-474539c8><th scope="row" data-v-474539c8>Passport Expiry Date</th> <td class="text-left" data-v-474539c8>'+t._ssrEscape(t._s(t.passenger.expiry_date))+'</td></tr> <tr data-v-474539c8><th scope="row" data-v-474539c8>Passport Issuing Country</th> <td class="text-left" data-v-474539c8>'+t._ssrEscape("\n                          "+t._s(t.passenger.issuing_country)+"\n                        ")+'</td></tr> <tr data-v-474539c8><th scope="row" data-v-474539c8>Food Preference</th> <td class="text-left" data-v-474539c8>'+t._ssrEscape("\n                          "+t._s(t.passenger.food_preference)+"\n                        ")+'</td></tr> <tr data-v-474539c8><th scope="row" data-v-474539c8>Room Choice</th> <td class="text-left" data-v-474539c8>'+t._ssrEscape("\n                          "+t._s(t.room_choice.room_name)+" - Rp.\n                          "+t._s(t.room_choice.room_price)+".000\n                        ")+"</td></tr></tbody></table></div>")+'</div></div></div> <div class="card-footer border-0 text-right bg-white" data-v-474539c8><div class="row" data-v-474539c8><div class="col-12 text-center" data-v-474539c8>'+(t.stepTwoDisable||t.stepThreeDisable||0!=t.saved?1==t.saved?'<button disabled="disabled" class="btn btn-lg btn-success text-white my-2 px-4" data-v-474539c8>\n                  Passenger Saved\n                </button>':'<button disabled="disabled" class="btn btn-lg btn-secondary text-white my-2 px-4" data-v-474539c8>\n                  Please complete all fields\n                </button>':'<button type="submit" class="btn btn-lg btn-success text-white my-2 px-4" data-v-474539c8>\n                  Save Passenger\n                </button>')+"</div></div></div></div>")],2)],2)])],2)}),[],!1,(function(t){var e=r(62);e.__inject__&&e.__inject__(t)}),"474539c8","f2b9f0fa").exports},data:()=>({formLoading:!1,passengers:null}),computed:{...Object(o.mapGetters)({TRANSACTION:"transactions/TRANSACTION",PASSENGERS:"stepper-form/PASSENGERS"}),disabled(){return this.passengers>0},item(){return this.TRANSACTION.data?this.TRANSACTION.data:{}}},async mounted(){await this.GET_TRANSACTION(this.$route.params.id),this.addPassengers()},methods:{...Object(o.mapActions)({CREATE_PASSENGERS:"passengers/CREATE_PASSENGERS",GET_TRANSACTION:"transactions/GET_TRANSACTION"}),...Object(o.mapMutations)({RESET_STEPPER:"stepper-form/RESET_STEPPER"}),async createPassengers(){this.formLoading=!0;const form={transaction_id:this.$route.params.id,passengers:this.PASSENGERS};try{await this.CREATE_PASSENGERS(form),await this.GET_TRANSACTION(this.$route.params.id),this.$swal({background:"#f5f5f5",icon:"success",title:"Created!",text:"Passengers Created!",showConfirmButton:!0}),this.$router.push("/transactions/"+this.$route.params.id),this.RESET_STEPPER()}catch(t){this.$swal({background:"#f5f5f5",icon:"error",title:"Error!",text:"Please double check your inputs before submitting!",showConfirmButton:!0})}finally{this.formLoading=!1}},addPassengers(){const t=this.item.adults+this.item.children+this.item.infants;this.passengers=t,this.$swal({position:"top",background:"#f5f5f5",icon:"success",title:"Created!",text:t+" Passengers form created! Please double check your inputs before submitting!",showConfirmButton:!0})}}},c=Object(n.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{"background-color":"#f4f4f4"}},[t._ssrNode('<div class="container"><div class="row"><div class="col-12 mt-100"><div class="section-heading dark text-center"><span></span> <h4>Add Passengers</h4> <p>Fill all passengers detail</p></div></div></div></div> '),t.TRANSACTION.data?t._ssrNode("<div>","</div>",[r("client-only",[r("div",{staticClass:"container pb-4"},t._l(t.passengers,(function(t,e){return r("div",{key:e},[r("stepper",{attrs:{"id-number":""+parseInt(e)}})],1)})),0)]),t._ssrNode(" "+(t.PASSENGERS.length==t.item.adults+t.item.children+t.item.infants?'<div class="container pb-4"><div class="row"><div class="col-12"><button type="button"'+t._ssrAttr("disabled",t.formLoading)+' class="btn btn-block btn-lg btn-success mb-4 ">'+(t.formLoading?"<span>\n              Submitting ...\n            </span>":"<span>\n              Submit all passengers\n            </span>")+"</button></div></div></div>":"\x3c!----\x3e"))],2):t._ssrNode("<div>","</div>",[r("client-only",[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("content-placeholders",{attrs:{rounded:!0}},[r("content-placeholders-heading"),t._v(" "),r("content-placeholders-img")],1),t._v(" "),r("content-placeholders",{attrs:{rounded:!0}},[r("content-placeholders-heading"),t._v(" "),r("content-placeholders-img")],1)],1)])])],1)],2)}),[],!1,null,null,"4de56c0e");e.default=c.exports}};