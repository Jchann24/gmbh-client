exports.ids=[18],exports.modules={50:function(e,t,r){var content=r(76);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var o=r(4).default;e.exports.__inject__=function(e){o("26315f60",content,!0,e)}},75:function(e,t,r){"use strict";r.r(t);var o=r(50),d=r.n(o);for(var n in o)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(n);t.default=d.a},76:function(e,t,r){(t=r(3)(!1)).push([e.i,".card-header .nav-link[aria-expanded=true][data-v-a59a3bea]{background-color:#fff;color:#408bb9!important}.nav-link[data-v-a59a3bea]{border-radius:10px 10px 0 0;color:#fff!important}@media screen and (max-width:768px){.nav-link[data-v-a59a3bea]{border-radius:10px 10px 10px 10px;margin:5px}}.card-header[data-v-a59a3bea]{background-color:#6ea8cc}",""]),e.exports=t},84:function(e,t,r){"use strict";r.r(t);var o=r(5),d={name:"FormStepperOne",middleware:["auth"],props:{idNumber:{type:String,default:""}},data(){return{passenger:{transaction_id:this.$route.params.id,person_name:"",title:"",dob:null,passport_number:"",issued_date:null,expiry_date:null,issuing_country:"",food_preference:"",room_choice_id:null},room_choice:null,saved:0}},computed:{...Object(o.mapGetters)({TRANSACTION:"transactions/TRANSACTION"}),item(){return this.TRANSACTION.data},stepTwoDisable(){return""===this.passenger.person_name||""===this.passenger.title||null===this.passenger.dob||null===this.room_choice||""===this.passenger.food_preference},stepThreeDisable(){return""===this.passenger.passport_number||null===this.passenger.issued_date||null===this.passenger.expiry_date||""===this.passenger.issuing_country||this.stepTwoDisable}},mounted(){},methods:{...Object(o.mapMutations)({PUSH_PASSENGER:"stepper-form/PUSH_PASSENGER"}),pushPassenger(){this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, save passenger!"}).then(e=>{e.value&&(this.passenger.room_choice_id=this.room_choice.id,this.stepTwoDisable||this.stepThreeDisable||(this.PUSH_PASSENGER(this.passenger),this.saved++,this.$swal({icon:"success",title:"Saved! Please proceed.",showConfirmButton:!0})))})}}},n=r(1);var l={name:"AddPassengersPage",middleware:["auth"],components:{Stepper:Object(n.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._ssrNode('<div class="row" data-v-a59a3bea><div class="col-12" data-v-a59a3bea><h4 class="my-2 py-2 text-center" data-v-a59a3bea>'+e._ssrEscape("\n        Passenger "+e._s(parseInt(e.idNumber)+1)+" - "+e._s(e.passenger.title)+"\n        "+e._s(e.passenger.person_name)+"\n      ")+"</h4> "+(e.saved>0?'<div class="row" data-v-a59a3bea><div class="col-12 text-center" data-v-a59a3bea><i class="pe-7s-check text-success display-4" data-v-a59a3bea></i></div></div>':"\x3c!----\x3e")+"</div></div> "),e._ssrNode("<div"+e._ssrAttr("id","stepsAccordion-"+e.idNumber)+' class="accordion" data-v-a59a3bea>',"</div>",[e._ssrNode('<div class="card border-0 text-center my-4 shadow" style="border-radius: 15px" data-v-a59a3bea>',"</div>",[e._ssrNode('<div class="card-header" data-v-a59a3bea><ul class="nav nav-tabs nav-fill flex-column flex-sm-row card-header-tabs mt-lg-4" data-v-a59a3bea><li class="nav-item" data-v-a59a3bea><a data-toggle="collapse"'+e._ssrAttr("data-target","#stepOne-"+e.idNumber)+' role="button" aria-expanded="true"'+e._ssrAttr("aria-controls","stepOne-"+e.idNumber)+' class="flex-sm-fill nav-link" data-v-a59a3bea>\n              Person Details\n            </a></li> <li class="nav-item" data-v-a59a3bea>'+(e.stepTwoDisable?'<a class="flex-sm-fill nav-link disabled" data-v-a59a3bea>Passport (Disabled)</a>':'<a data-toggle="collapse"'+e._ssrAttr("data-target","#stepTwo-"+e.idNumber)+' role="button" aria-expanded="false"'+e._ssrAttr("aria-controls","stepTwo-"+e.idNumber)+' class="flex-sm-fill nav-link" data-v-a59a3bea>Passport</a>')+'</li> <li class="nav-item" data-v-a59a3bea>'+(e.stepThreeDisable?'<a class="flex-sm-fill nav-link disabled" data-v-a59a3bea>Review (Disabled)</a>':'<a data-toggle="collapse"'+e._ssrAttr("data-target","#stepThree-"+e.idNumber)+' role="button" aria-expanded="false"'+e._ssrAttr("aria-controls","stepThree-"+e.idNumber)+' class="flex-sm-fill nav-link" data-v-a59a3bea>Review Data</a>')+"</li></ul></div> "),e._ssrNode("<form data-v-a59a3bea>","</form>",[e._ssrNode("<div"+e._ssrAttr("id","stepOne-"+e.idNumber)+e._ssrAttr("data-parent","#stepsAccordion-"+e.idNumber)+' class="collapse show " data-v-a59a3bea>',"</div>",[e._ssrNode('<div class="card-body " data-v-a59a3bea>',"</div>",[e._ssrNode('<div class="row" data-v-a59a3bea>',"</div>",[e._ssrNode('<div class="col-12 col-lg-8 my-4 mx-auto text-left" data-v-a59a3bea>',"</div>",[e._ssrNode('<div class="form-group" data-v-a59a3bea><label'+e._ssrAttr("for","t-form-name"+e.idNumber)+" data-v-a59a3bea>Full Name</label> <input"+e._ssrAttr("id","t-form-name"+e.idNumber)+' type="text" placeholder="Enter passenger\'s full name" required="required"'+e._ssrAttr("readonly",e.saved>0)+e._ssrAttr("value",e.passenger.person_name)+' class="form-control" data-v-a59a3bea></div> '),e._ssrNode('<div class="form-group row" data-v-a59a3bea>',"</div>",[e._ssrNode('<div class="col-6" data-v-a59a3bea>',"</div>",[e._ssrNode("<label"+e._ssrAttr("for","t-form-title"+e.idNumber)+" data-v-a59a3bea>Title</label> "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.passenger.title,expression:"passenger.title"}],staticClass:"form-control",attrs:{id:"t-form-title"+e.idNumber,required:"",readonly:e.saved>0},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.passenger,"title",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Choose...")]),e._v(" "),r("option",{attrs:{value:"Mr."}},[e._v("Mr.")]),e._v(" "),r("option",{attrs:{value:"Ms."}},[e._v("Ms.")]),e._v(" "),r("option",{attrs:{Value:"Mrs."}},[e._v("Mrs.")])])],2),e._ssrNode(" "),e._ssrNode('<div class="col-6" data-v-a59a3bea>',"</div>",[e._ssrNode("<label"+e._ssrAttr("for","t-form-food"+e.idNumber)+" data-v-a59a3bea>Food Preference</label> "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.passenger.food_preference,expression:"passenger.food_preference"}],staticClass:"form-control",attrs:{id:"t-form-food"+e.idNumber,required:"",readonly:e.saved>0},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.passenger,"food_preference",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Choose...")]),e._v(" "),r("option",{attrs:{value:"Vegetarian"}},[e._v("Vegetarian")]),e._v(" "),r("option",{attrs:{value:"Non-Vegetarian"}},[e._v("Non-Vegetarian")]),e._v(" "),r("option",{attrs:{value:"Muslim-Food"}},[e._v("Muslim-Food")])])],2)],2),e._ssrNode(' <div class="form-group" data-v-a59a3bea><label'+e._ssrAttr("for","t-form-dob"+e.idNumber)+" data-v-a59a3bea>Date of Birth</label> <input"+e._ssrAttr("id","t-form-dob"+e.idNumber)+' type="date" required="required"'+e._ssrAttr("readonly",e.saved>0)+e._ssrAttr("value",e.passenger.dob)+' class="form-control" data-v-a59a3bea></div> '),e._ssrNode('<div class="form-group" data-v-a59a3bea>',"</div>",[e._ssrNode("<label"+e._ssrAttr("for","t-form-room"+e.idNumber)+" data-v-a59a3bea>Room Choice</label> "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.room_choice,expression:"room_choice"}],staticClass:"form-control",attrs:{id:"t-form-room"+e.idNumber,required:"",readonly:e.saved>0},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.room_choice=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Choose...")]),e._v(" "),e._l(e.item.package.room_choices,(function(t){return r("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.room_name)+" - Rp.\n                      "+e._s(t.room_price)+".000")])}))],2)],2)],2)])]),e._ssrNode(' <div class="card-footer border-0 text-right bg-white" data-v-a59a3bea>'+(e.stepTwoDisable?'<button disabled="disabled" class="btn btn-lg btn-secondary text-white my-2" data-v-a59a3bea>\n              Please complete all fields\n            </button>':'<a data-toggle="collapse"'+e._ssrAttr("data-target","#stepTwo-"+e.idNumber)+' role="button" aria-expanded="false"'+e._ssrAttr("aria-controls","stepTwo-"+e.idNumber)+' class="btn btn-lg btn-primary text-white my-2 " data-v-a59a3bea>Next</a>')+"</div>")],2),e._ssrNode(" <div"+e._ssrAttr("id","stepTwo-"+e.idNumber)+e._ssrAttr("data-parent","#stepsAccordion-"+e.idNumber)+' class="collapse" data-v-a59a3bea><div class="card-body " data-v-a59a3bea><div class="row" data-v-a59a3bea><div class="col-12 col-lg-8 my-4 mx-auto text-left" data-v-a59a3bea><div class="form-group" data-v-a59a3bea><label'+e._ssrAttr("for","t-form-passport"+e.idNumber)+" data-v-a59a3bea>Passport Number</label> <input"+e._ssrAttr("id","t-form-passport"+e.idNumber)+' type="text" placeholder="Enter passenger\'s passport number" required="required"'+e._ssrAttr("readonly",e.saved>0)+e._ssrAttr("value",e.passenger.passport_number)+' class="form-control" data-v-a59a3bea></div> <div class="form-group row" data-v-a59a3bea><div class="col-12 col-md-6" data-v-a59a3bea><label'+e._ssrAttr("for","t-form-issued"+e.idNumber)+" data-v-a59a3bea>Passport Issued Date</label> <input"+e._ssrAttr("id","t-form-issued"+e.idNumber)+' type="date" required="required"'+e._ssrAttr("readonly",e.saved>0)+e._ssrAttr("value",e.passenger.issued_date)+' class="form-control" data-v-a59a3bea></div> <div class="col-12 col-md-6 mt-3 mt-sm-0" data-v-a59a3bea><label'+e._ssrAttr("for","t-form-expiry"+e.idNumber)+" data-v-a59a3bea>Passport Expiry Date</label> <input"+e._ssrAttr("id","t-form-expiry"+e.idNumber)+' type="date" required="required"'+e._ssrAttr("readonly",e.saved>0)+e._ssrAttr("value",e.passenger.expiry_date)+' class="form-control" data-v-a59a3bea></div></div> <div class="form-group" data-v-a59a3bea><label'+e._ssrAttr("for","t-form-country"+e.idNumber)+" data-v-a59a3bea>Issuing Country</label> <input"+e._ssrAttr("id","t-form-country"+e.idNumber)+' type="text" placeholder="Passport issuing country" required="required"'+e._ssrAttr("readonly",e.saved>0)+e._ssrAttr("value",e.passenger.issuing_country)+' class="form-control" data-v-a59a3bea></div></div></div></div> <div class="card-footer border-0 text-right bg-white" data-v-a59a3bea>'+(e.stepThreeDisable?'<button disabled="disabled" class="btn btn-lg btn-secondary text-white my-2" data-v-a59a3bea>\n              Please complete all fields\n            </button>':'<a data-toggle="collapse"'+e._ssrAttr("data-target","#stepThree-"+e.idNumber)+' role="button" aria-expanded="false"'+e._ssrAttr("aria-controls","stepThree-"+e.idNumber)+' class="btn btn-lg btn-primary text-white my-2 " data-v-a59a3bea>Next</a>')+"</div></div> <div"+e._ssrAttr("id","stepThree-"+e.idNumber)+e._ssrAttr("data-parent","#stepsAccordion-"+e.idNumber)+' class="collapse" data-v-a59a3bea><div class="card-body " data-v-a59a3bea><div class="row" data-v-a59a3bea><div class="col-12 col-lg-6 my-4 mx-auto text-left" data-v-a59a3bea>'+(e.stepTwoDisable||e.stepThreeDisable?"\x3c!----\x3e":'<div class="table-responsive" data-v-a59a3bea><table class="table table-borderless" data-v-a59a3bea><tbody data-v-a59a3bea><tr data-v-a59a3bea><th scope="row" data-v-a59a3bea>Full Name</th> <td class="text-left" data-v-a59a3bea>'+e._ssrEscape("\n                          "+e._s(e.passenger.title)+" "+e._s(e.passenger.person_name)+"\n                        ")+'</td></tr> <tr data-v-a59a3bea><th scope="row" data-v-a59a3bea>Date of Birth</th> <td class="text-left" data-v-a59a3bea>'+e._ssrEscape(e._s(e.passenger.dob))+'</td></tr> <tr data-v-a59a3bea><th scope="row" data-v-a59a3bea>Passport Number</th> <td class="text-left" data-v-a59a3bea>'+e._ssrEscape("\n                          "+e._s(e.passenger.passport_number)+"\n                        ")+'</td></tr> <tr data-v-a59a3bea><th scope="row" data-v-a59a3bea>Passport Issued Date</th> <td class="text-left" data-v-a59a3bea>'+e._ssrEscape(e._s(e.passenger.issued_date))+'</td></tr> <tr data-v-a59a3bea><th scope="row" data-v-a59a3bea>Passport Expiry Date</th> <td class="text-left" data-v-a59a3bea>'+e._ssrEscape(e._s(e.passenger.expiry_date))+'</td></tr> <tr data-v-a59a3bea><th scope="row" data-v-a59a3bea>Passport Issuing Country</th> <td class="text-left" data-v-a59a3bea>'+e._ssrEscape("\n                          "+e._s(e.passenger.issuing_country)+"\n                        ")+'</td></tr> <tr data-v-a59a3bea><th scope="row" data-v-a59a3bea>Food Preference</th> <td class="text-left" data-v-a59a3bea>'+e._ssrEscape("\n                          "+e._s(e.passenger.food_preference)+"\n                        ")+'</td></tr> <tr data-v-a59a3bea><th scope="row" data-v-a59a3bea>Room Choice</th> <td class="text-left" data-v-a59a3bea>'+e._ssrEscape("\n                          "+e._s(e.room_choice.room_name)+" - Rp.\n                          "+e._s(e.room_choice.room_price)+".000\n                        ")+"</td></tr></tbody></table></div>")+'</div></div></div> <div class="card-footer border-0 text-right bg-white" data-v-a59a3bea><div class="row" data-v-a59a3bea><div class="col-12 text-center" data-v-a59a3bea>'+(e.stepTwoDisable||e.stepThreeDisable||0!=e.saved?1==e.saved?'<button disabled="disabled" class="btn btn-lg btn-success text-white my-2 px-4" data-v-a59a3bea>\n                  Passenger Saved\n                </button>':'<button disabled="disabled" class="btn btn-lg btn-secondary text-white my-2 px-4" data-v-a59a3bea>\n                  Please complete all fields\n                </button>':'<button type="submit" class="btn btn-lg btn-success text-white my-2 px-4" data-v-a59a3bea>\n                  Save Passenger\n                </button>')+"</div></div></div></div>")],2)],2)])],2)}),[],!1,(function(e){var t=r(75);t.__inject__&&t.__inject__(e)}),"a59a3bea","f2b9f0fa").exports},data:()=>({formLoading:!1,passengers:null}),computed:{...Object(o.mapGetters)({TRANSACTION:"transactions/TRANSACTION",PASSENGERS:"stepper-form/PASSENGERS"}),disabled(){return this.passengers>0},item(){return this.TRANSACTION.data?this.TRANSACTION.data:{}}},async mounted(){await this.GET_TRANSACTION(this.$route.params.id),this.addPassengers()},methods:{...Object(o.mapActions)({CREATE_PASSENGERS:"passengers/CREATE_PASSENGERS",GET_TRANSACTION:"transactions/GET_TRANSACTION"}),...Object(o.mapMutations)({RESET_STEPPER:"stepper-form/RESET_STEPPER"}),async createPassengers(){this.formLoading=!0;const form={transaction_id:this.$route.params.id,passengers:this.PASSENGERS};try{await this.CREATE_PASSENGERS(form),await this.GET_TRANSACTION(this.$route.params.id),this.$swal({background:"#f5f5f5",icon:"success",title:"Created!",text:"Passengers Created!",showConfirmButton:!0}),this.$router.push("/transactions/"+this.$route.params.id),this.RESET_STEPPER()}catch(e){this.$swal({background:"#f5f5f5",icon:"error",title:"Error!",text:"Please double check your inputs before submitting!",showConfirmButton:!0})}finally{this.formLoading=!1}},addPassengers(){const e=this.item.adults+this.item.children+this.item.infants;this.passengers=e,this.$swal({position:"top",background:"#f5f5f5",icon:"success",title:"Created!",text:e+" Passengers form created! Please double check your inputs before submitting!",showConfirmButton:!0})}},head(){return{title:this.item.package.name+" Add Passengers | CEO Travel GmbH"}}},c=Object(n.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"background-color":"#f4f4f4"}},[e._ssrNode('<div class="container"><div class="row"><div class="col-12 mt-100"><div class="section-heading dark text-center"><span></span> <h4>Add Passengers</h4> <p>Fill all passengers detail</p></div></div></div></div> '),e.TRANSACTION.data?e._ssrNode("<div>","</div>",[r("client-only",[r("div",{staticClass:"container pb-4"},e._l(e.passengers,(function(e,t){return r("div",{key:t},[r("stepper",{attrs:{"id-number":""+parseInt(t)}})],1)})),0)]),e._ssrNode(" "+(e.PASSENGERS.length==e.item.adults+e.item.children+e.item.infants?'<div class="container pb-4"><div class="row"><div class="col-12"><button type="button"'+e._ssrAttr("disabled",e.formLoading)+' class="btn btn-block btn-lg btn-success mb-4 ">'+(e.formLoading?"<span>\n              Submitting ...\n            </span>":"<span>\n              Submit all passengers\n            </span>")+"</button></div></div></div>":"\x3c!----\x3e"))],2):e._ssrNode("<div>","</div>",[r("client-only",[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("content-placeholders",{attrs:{rounded:!0}},[r("content-placeholders-heading"),e._v(" "),r("content-placeholders-img")],1),e._v(" "),r("content-placeholders",{attrs:{rounded:!0}},[r("content-placeholders-heading"),e._v(" "),r("content-placeholders-img")],1)],1)])])],1)],2)}),[],!1,null,null,"4de56c0e");t.default=c.exports}};