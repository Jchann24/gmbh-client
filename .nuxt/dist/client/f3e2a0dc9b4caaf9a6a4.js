(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{231:function(e,t,r){var content=r(255);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(26).default)("19258b18",content,!0,{sourceMap:!1})},254:function(e,t,r){"use strict";var o=r(231);r.n(o).a},255:function(e,t,r){(t=r(25)(!1)).push([e.i,".card-header .nav-link[aria-expanded=true][data-v-474539c8]{background-color:#fff;color:#408bb9!important}.nav-link[data-v-474539c8]{border-radius:10px 10px 0 0;color:#fff!important}@media screen and (max-width:768px){.nav-link[data-v-474539c8]{border-radius:10px 10px 10px 10px;margin:5px}}.card-header[data-v-474539c8]{background-color:#6ea8cc}",""]),e.exports=t},263:function(e,t,r){"use strict";r.r(t);r(55),r(19),r(20),r(12),r(43),r(27),r(9);var o=r(2),n=r(21),l=r(44);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={name:"FormStepperOne",middleware:["auth"],props:{idNumber:{type:String,default:""}},data:function(){return{passenger:{transaction_id:this.$route.params.id,person_name:"",title:"",dob:null,passport_number:"",issued_date:null,expiry_date:null,issuing_country:"",food_preference:"",room_choice_id:null},room_choice:null,saved:0}},computed:d(d({},Object(l.c)({TRANSACTION:"transactions/TRANSACTION"})),{},{item:function(){return this.TRANSACTION.data},stepTwoDisable:function(){return""===this.passenger.person_name||""===this.passenger.title||null===this.passenger.dob||null===this.room_choice||""===this.passenger.food_preference},stepThreeDisable:function(){return""===this.passenger.passport_number||null===this.passenger.issued_date||null===this.passenger.expiry_date||""===this.passenger.issuing_country||this.stepTwoDisable}}),mounted:function(){},methods:d(d({},Object(l.d)({PUSH_PASSENGER:"stepper-form/PUSH_PASSENGER"})),{},{pushPassenger:function(){var e=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, save passenger!"}).then((function(t){t.value&&(e.passenger.room_choice_id=e.room_choice.id,e.stepTwoDisable||e.stepThreeDisable||(e.PUSH_PASSENGER(e.passenger),e.saved++,e.$swal({icon:"success",title:"Saved! Please proceed.",showConfirmButton:!0})))}))}})},m=(r(254),r(7));function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={name:"AddPassengersPage",middleware:["auth"],components:{Stepper:Object(m.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("h4",{staticClass:"my-2 py-2 text-center"},[e._v("\n        Passenger "+e._s(parseInt(e.idNumber)+1)+" - "+e._s(e.passenger.title)+"\n        "+e._s(e.passenger.person_name)+"\n      ")]),e._v(" "),e.saved>0?r("div",{staticClass:"row"},[e._m(0)]):e._e()])]),e._v(" "),r("div",{staticClass:"accordion",attrs:{id:"stepsAccordion-"+e.idNumber}},[r("div",{staticClass:"card border-0 text-center my-4 shadow",staticStyle:{"border-radius":"15px"}},[r("div",{staticClass:"card-header"},[r("ul",{staticClass:"nav nav-tabs nav-fill flex-column flex-sm-row card-header-tabs mt-lg-4"},[r("li",{staticClass:"nav-item"},[r("a",{staticClass:"flex-sm-fill nav-link",attrs:{"data-toggle":"collapse","data-target":"#stepOne-"+e.idNumber,role:"button","aria-expanded":"true","aria-controls":"stepOne-"+e.idNumber}},[e._v("\n              Person Details\n            ")])]),e._v(" "),r("li",{staticClass:"nav-item"},[e.stepTwoDisable?r("a",{staticClass:"flex-sm-fill nav-link disabled"},[e._v("Passport (Disabled)")]):r("a",{staticClass:"flex-sm-fill nav-link",attrs:{"data-toggle":"collapse","data-target":"#stepTwo-"+e.idNumber,role:"button","aria-expanded":"false","aria-controls":"stepTwo-"+e.idNumber}},[e._v("Passport")])]),e._v(" "),r("li",{staticClass:"nav-item"},[e.stepThreeDisable?r("a",{staticClass:"flex-sm-fill nav-link disabled"},[e._v("Review (Disabled)")]):r("a",{staticClass:"flex-sm-fill nav-link",attrs:{"data-toggle":"collapse","data-target":"#stepThree-"+e.idNumber,role:"button","aria-expanded":"false","aria-controls":"stepThree-"+e.idNumber}},[e._v("Review Data")])])])]),e._v(" "),r("form",{on:{submit:function(t){return t.preventDefault(),e.pushPassenger(t)}}},[r("div",{staticClass:"collapse show ",attrs:{id:"stepOne-"+e.idNumber,"data-parent":"#stepsAccordion-"+e.idNumber}},[r("div",{staticClass:"card-body "},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-lg-8 my-4 mx-auto text-left"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-name"+e.idNumber}},[e._v("Full Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.person_name,expression:"passenger.person_name"}],staticClass:"form-control",attrs:{id:"t-form-name"+e.idNumber,type:"text",placeholder:"Enter passenger's full name",required:"",readonly:e.saved>0},domProps:{value:e.passenger.person_name},on:{input:function(t){t.target.composing||e.$set(e.passenger,"person_name",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-6"},[r("label",{attrs:{for:"t-form-title"+e.idNumber}},[e._v("Title")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.passenger.title,expression:"passenger.title"}],staticClass:"form-control",attrs:{id:"t-form-title"+e.idNumber,required:"",readonly:e.saved>0},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.passenger,"title",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Choose...")]),e._v(" "),r("option",{attrs:{value:"Mr."}},[e._v("Mr.")]),e._v(" "),r("option",{attrs:{value:"Ms."}},[e._v("Ms.")]),e._v(" "),r("option",{attrs:{Value:"Mrs."}},[e._v("Mrs.")])])]),e._v(" "),r("div",{staticClass:"col-6"},[r("label",{attrs:{for:"t-form-food"+e.idNumber}},[e._v("Food Preference")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.passenger.food_preference,expression:"passenger.food_preference"}],staticClass:"form-control",attrs:{id:"t-form-food"+e.idNumber,required:"",readonly:e.saved>0},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.passenger,"food_preference",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Choose...")]),e._v(" "),r("option",{attrs:{value:"Vegetarian"}},[e._v("Vegetarian")]),e._v(" "),r("option",{attrs:{value:"Non-Vegetarian"}},[e._v("Non-Vegetarian")]),e._v(" "),r("option",{attrs:{value:"Muslim-Food"}},[e._v("Muslim-Food")])])])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-dob"+e.idNumber}},[e._v("Date of Birth")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.dob,expression:"passenger.dob"}],staticClass:"form-control",attrs:{id:"t-form-dob"+e.idNumber,type:"date",required:"",readonly:e.saved>0},domProps:{value:e.passenger.dob},on:{input:function(t){t.target.composing||e.$set(e.passenger,"dob",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-room"+e.idNumber}},[e._v("Room Choice")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.room_choice,expression:"room_choice"}],staticClass:"form-control",attrs:{id:"t-form-room"+e.idNumber,required:"",readonly:e.saved>0},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.room_choice=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Choose...")]),e._v(" "),e._l(e.item.package.room_choices,(function(t){return r("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.room_name)+" - Rp.\n                      "+e._s(t.room_price)+".000")])}))],2)])])])]),e._v(" "),r("div",{staticClass:"card-footer border-0 text-right bg-white"},[e.stepTwoDisable?r("button",{staticClass:"btn btn-lg btn-secondary text-white my-2",attrs:{disabled:""}},[e._v("\n              Please complete all fields\n            ")]):r("a",{staticClass:"btn btn-lg btn-primary text-white my-2 ",attrs:{"data-toggle":"collapse","data-target":"#stepTwo-"+e.idNumber,role:"button","aria-expanded":"false","aria-controls":"stepTwo-"+e.idNumber}},[e._v("Next")])])]),e._v(" "),r("div",{staticClass:"collapse",attrs:{id:"stepTwo-"+e.idNumber,"data-parent":"#stepsAccordion-"+e.idNumber}},[r("div",{staticClass:"card-body "},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-lg-8 my-4 mx-auto text-left"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-passport"+e.idNumber}},[e._v("Passport Number")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.passport_number,expression:"passenger.passport_number"}],staticClass:"form-control",attrs:{id:"t-form-passport"+e.idNumber,type:"text",placeholder:"Enter passenger's passport number",required:"",readonly:e.saved>0},domProps:{value:e.passenger.passport_number},on:{input:function(t){t.target.composing||e.$set(e.passenger,"passport_number",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-12 col-md-6"},[r("label",{attrs:{for:"t-form-issued"+e.idNumber}},[e._v("Passport Issued Date")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.issued_date,expression:"passenger.issued_date"}],staticClass:"form-control",attrs:{id:"t-form-issued"+e.idNumber,type:"date",required:"",readonly:e.saved>0},domProps:{value:e.passenger.issued_date},on:{input:function(t){t.target.composing||e.$set(e.passenger,"issued_date",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"col-12 col-md-6 mt-3"},[r("label",{attrs:{for:"t-form-expiry"+e.idNumber}},[e._v("Passport Expiry Date")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.expiry_date,expression:"passenger.expiry_date"}],staticClass:"form-control",attrs:{id:"t-form-expiry"+e.idNumber,type:"date",required:"",readonly:e.saved>0},domProps:{value:e.passenger.expiry_date},on:{input:function(t){t.target.composing||e.$set(e.passenger,"expiry_date",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-country"+e.idNumber}},[e._v("Issuing Country")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.issuing_country,expression:"passenger.issuing_country"}],staticClass:"form-control",attrs:{id:"t-form-country"+e.idNumber,type:"text",placeholder:"Passport issuing country",required:"",readonly:e.saved>0},domProps:{value:e.passenger.issuing_country},on:{input:function(t){t.target.composing||e.$set(e.passenger,"issuing_country",t.target.value)}}})])])])]),e._v(" "),r("div",{staticClass:"card-footer border-0 text-right bg-white"},[e.stepThreeDisable?r("button",{staticClass:"btn btn-lg btn-secondary text-white my-2",attrs:{disabled:""}},[e._v("\n              Please complete all fields\n            ")]):r("a",{staticClass:"btn btn-lg btn-primary text-white my-2 ",attrs:{"data-toggle":"collapse","data-target":"#stepThree-"+e.idNumber,role:"button","aria-expanded":"false","aria-controls":"stepThree-"+e.idNumber}},[e._v("Next")])])]),e._v(" "),r("div",{staticClass:"collapse",attrs:{id:"stepThree-"+e.idNumber,"data-parent":"#stepsAccordion-"+e.idNumber}},[r("div",{staticClass:"card-body "},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-lg-6 my-4 mx-auto text-left"},[e.stepTwoDisable||e.stepThreeDisable?e._e():r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-borderless"},[r("tbody",[r("tr",[r("th",{attrs:{scope:"row"}},[e._v("Full Name")]),e._v(" "),r("td",{staticClass:"text-left"},[e._v("\n                          "+e._s(e.passenger.title)+" "+e._s(e.passenger.person_name)+"\n                        ")])]),e._v(" "),r("tr",[r("th",{attrs:{scope:"row"}},[e._v("Date of Birth")]),e._v(" "),r("td",{staticClass:"text-left"},[e._v(e._s(e.passenger.dob))])]),e._v(" "),r("tr",[r("th",{attrs:{scope:"row"}},[e._v("Passport Number")]),e._v(" "),r("td",{staticClass:"text-left"},[e._v("\n                          "+e._s(e.passenger.passport_number)+"\n                        ")])]),e._v(" "),r("tr",[r("th",{attrs:{scope:"row"}},[e._v("Passport Issued Date")]),e._v(" "),r("td",{staticClass:"text-left"},[e._v(e._s(e.passenger.issued_date))])]),e._v(" "),r("tr",[r("th",{attrs:{scope:"row"}},[e._v("Passport Expiry Date")]),e._v(" "),r("td",{staticClass:"text-left"},[e._v(e._s(e.passenger.expiry_date))])]),e._v(" "),r("tr",[r("th",{attrs:{scope:"row"}},[e._v("Passport Issuing Country")]),e._v(" "),r("td",{staticClass:"text-left"},[e._v("\n                          "+e._s(e.passenger.issuing_country)+"\n                        ")])]),e._v(" "),r("tr",[r("th",{attrs:{scope:"row"}},[e._v("Food Preference")]),e._v(" "),r("td",{staticClass:"text-left"},[e._v("\n                          "+e._s(e.passenger.food_preference)+"\n                        ")])]),e._v(" "),r("tr",[r("th",{attrs:{scope:"row"}},[e._v("Room Choice")]),e._v(" "),r("td",{staticClass:"text-left"},[e._v("\n                          "+e._s(e.room_choice.room_name)+" - Rp.\n                          "+e._s(e.room_choice.room_price)+".000\n                        ")])])])])])])])]),e._v(" "),r("div",{staticClass:"card-footer border-0 text-right bg-white"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 text-center"},[e.stepTwoDisable||e.stepThreeDisable||0!=e.saved?1==e.saved?r("button",{staticClass:"btn btn-lg btn-success text-white my-2 px-4",attrs:{disabled:""}},[e._v("\n                  Passenger Saved\n                ")]):r("button",{staticClass:"btn btn-lg btn-secondary text-white my-2 px-4",attrs:{disabled:""}},[e._v("\n                  Please complete all fields\n                ")]):r("button",{staticClass:"btn btn-lg btn-success text-white my-2 px-4",attrs:{type:"submit"}},[e._v("\n                  Save Passenger\n                ")])])])])])])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-12 text-center"},[t("i",{staticClass:"pe-7s-check text-success display-4"})])}],!1,null,"474539c8",null).exports},data:function(){return{formLoading:!1,passengers:null}},computed:_(_({},Object(l.c)({TRANSACTION:"transactions/TRANSACTION",PASSENGERS:"stepper-form/PASSENGERS"})),{},{disabled:function(){return this.passengers>0},item:function(){return this.TRANSACTION.data?this.TRANSACTION.data:{}}}),mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.GET_TRANSACTION(e.$route.params.id);case 2:e.addPassengers();case 3:case"end":return t.stop()}}),t)})))()},methods:_(_(_({},Object(l.b)({CREATE_PASSENGERS:"passengers/CREATE_PASSENGERS",GET_TRANSACTION:"transactions/GET_TRANSACTION"})),Object(l.d)({RESET_STEPPER:"stepper-form/RESET_STEPPER"})),{},{createPassengers:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var form;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.formLoading=!0,form={transaction_id:e.$route.params.id,passengers:e.PASSENGERS},t.prev=2,t.next=5,e.CREATE_PASSENGERS(form);case 5:return t.next=7,e.GET_TRANSACTION(e.$route.params.id);case 7:e.$swal({background:"#f5f5f5",icon:"success",title:"Created!",text:"Passengers Created!",showConfirmButton:!0}),e.$router.push("/transactions/".concat(e.$route.params.id)),e.RESET_STEPPER(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),e.$swal({background:"#f5f5f5",icon:"error",title:"Error!",text:"Please double check your inputs before submitting!",showConfirmButton:!0});case 15:return t.prev=15,e.formLoading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])})))()},addPassengers:function(){var e=this.item.adults+this.item.children+this.item.infants;this.passengers=e,this.$swal({position:"top",background:"#f5f5f5",icon:"success",title:"Created!",text:"".concat(e," Passengers form created! Please double check your inputs before submitting!"),showConfirmButton:!0})}}),head:function(){return{title:"".concat(this.item.package.name," Add Passengers | CEO Travel GmbH")}}},C=Object(m.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"background-color":"#f4f4f4"}},[e._m(0),e._v(" "),e.TRANSACTION.data?r("div",[r("client-only",[r("div",{staticClass:"container pb-4"},e._l(e.passengers,(function(e,t){return r("div",{key:t},[r("stepper",{attrs:{"id-number":""+parseInt(t)}})],1)})),0)]),e._v(" "),e.PASSENGERS.length==e.item.adults+e.item.children+e.item.infants?r("div",{staticClass:"container pb-4"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("button",{staticClass:"btn btn-block btn-lg btn-success mb-4 ",attrs:{type:"button",disabled:e.formLoading},on:{click:e.createPassengers}},[e.formLoading?r("span",[e._v("\n              Submitting ...\n            ")]):r("span",[e._v("\n              Submit all passengers\n            ")])])])])]):e._e()],1):r("div",[r("client-only",[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("content-placeholders",{attrs:{rounded:!0}},[r("content-placeholders-heading"),e._v(" "),r("content-placeholders-img")],1),e._v(" "),r("content-placeholders",{attrs:{rounded:!0}},[r("content-placeholders-heading"),e._v(" "),r("content-placeholders-img")],1)],1)])])],1)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 mt-100"},[t("div",{staticClass:"section-heading dark text-center"},[t("span"),this._v(" "),t("h4",[this._v("Add Passengers")]),this._v(" "),t("p",[this._v("Fill all passengers detail")])])])])])}],!1,null,null,null);t.default=C.exports}}]);