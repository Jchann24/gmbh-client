(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{228:function(e,t,r){var content=r(245);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(26).default)("24359a22",content,!0,{sourceMap:!1})},244:function(e,t,r){"use strict";var o=r(228);r.n(o).a},245:function(e,t,r){(t=r(25)(!1)).push([e.i,".card-header .nav-link[aria-expanded=true][data-v-2e1a59bd]{background-color:#fff;color:#408bb9!important}.nav-link[data-v-2e1a59bd]{border-radius:10px 10px 0 0;color:#fff!important}.card-header[data-v-2e1a59bd]{background-color:#6ea8cc}",""]),e.exports=t},253:function(e,t,r){"use strict";r.r(t);r(55),r(19),r(20),r(12),r(43),r(9);var o=r(2),n=r(21),l=r(44);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={name:"FormStepperOne",props:{idNumber:{type:String,default:""}},data:function(){return{passenger:{transaction_id:this.$route.params.id,person_name:"",title:"",dob:null,passport_number:"",issued_date:null,expiry_date:null,issuing_country:"",food_preference:"",room_choice_id:null}}},computed:d(d({},Object(l.c)({TRANSACTION:"transactions/TRANSACTION"})),{},{item:function(){return this.TRANSACTION.data},stepTwoDisable:function(){return""===this.passenger.person_name||""===this.passenger.title||null===this.passenger.dob||null===this.passenger.room_choice_id||""===this.passenger.food_preference},stepThreeDisable:function(){return""===this.passenger.passport_number||null===this.passenger.issued_date||null===this.passenger.expiry_date||""===this.passenger.issuing_country}}),mounted:function(){},methods:d({},Object(l.d)({PUSH_PASSENGER:"stepper-form/PUSH_PASSENGER"}))},v=(r(244),r(7));function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={name:"AddPassengersPage",components:{Stepper:Object(v.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h4",{staticClass:"my-2 py-2 text-center"},[e._v("\n    Passenger "+e._s(parseInt(e.idNumber)+1)+" - "+e._s(e.passenger.title)+"\n    "+e._s(e.passenger.person_name)+"\n  ")]),e._v(" "),r("div",{staticClass:"accordion",attrs:{id:"stepsAccordion-"+e.idNumber}},[r("div",{staticClass:"card border-0 text-center my-4 shadow",staticStyle:{"border-radius":"15px"}},[r("div",{staticClass:"card-header"},[r("ul",{staticClass:"nav nav-tabs card-header-tabs mt-4"},[r("li",{staticClass:"nav-item"},[r("a",{staticClass:"nav-link",attrs:{"data-toggle":"collapse","data-target":"#stepOne-"+e.idNumber,role:"button","aria-expanded":"true","aria-controls":"stepOne-"+e.idNumber}},[e._v("\n              Person Details\n            ")])]),e._v(" "),r("li",{staticClass:"nav-item"},[e.stepTwoDisable?r("a",{staticClass:"nav-link disabled"},[e._v("Passport (Disabled)")]):r("a",{staticClass:"nav-link",attrs:{"data-toggle":"collapse","data-target":"#stepTwo-"+e.idNumber,role:"button","aria-expanded":"false","aria-controls":"stepTwo-"+e.idNumber}},[e._v("Passport")])])])]),e._v(" "),r("form",{on:{submit:function(t){return t.preventDefault(),e.pushPassenger(t)}}},[r("div",{staticClass:"collapse show ",attrs:{id:"stepOne-"+e.idNumber,"data-parent":"#stepsAccordion-"+e.idNumber}},[r("div",{staticClass:"card-body "},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-md-8 my-4 mx-auto text-left"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-name"+e.idNumber}},[e._v("Full Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.person_name,expression:"passenger.person_name"}],staticClass:"form-control",attrs:{id:"t-form-name"+e.idNumber,type:"text",placeholder:"Enter passenger's full name",required:""},domProps:{value:e.passenger.person_name},on:{input:function(t){t.target.composing||e.$set(e.passenger,"person_name",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-6"},[r("label",{attrs:{for:"t-form-title"+e.idNumber}},[e._v("Title")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.passenger.title,expression:"passenger.title"}],staticClass:"form-control",attrs:{id:"t-form-title"+e.idNumber,required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.passenger,"title",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Choose...")]),e._v(" "),r("option",{attrs:{value:"Mr."}},[e._v("Mr.")]),e._v(" "),r("option",{attrs:{value:"Ms."}},[e._v("Ms.")]),e._v(" "),r("option",{attrs:{Value:"Mrs."}},[e._v("Mrs.")])])]),e._v(" "),r("div",{staticClass:"col-6"},[r("label",{attrs:{for:"t-form-food"+e.idNumber}},[e._v("Food Preference")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.passenger.food_preference,expression:"passenger.food_preference"}],staticClass:"form-control",attrs:{id:"t-form-food"+e.idNumber,required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.passenger,"food_preference",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Choose...")]),e._v(" "),r("option",{attrs:{value:"Vegetarian"}},[e._v("Vegetarian")]),e._v(" "),r("option",{attrs:{value:"Non-Vegetarian"}},[e._v("Non-Vegetarian")]),e._v(" "),r("option",{attrs:{value:"Muslim-Food"}},[e._v("Muslim-Food")])])])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-dob"+e.idNumber}},[e._v("Date of Birth")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.dob,expression:"passenger.dob"}],staticClass:"form-control",attrs:{id:"t-form-dob"+e.idNumber,type:"date",required:""},domProps:{value:e.passenger.dob},on:{input:function(t){t.target.composing||e.$set(e.passenger,"dob",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-room"+e.idNumber}},[e._v("Room Choice")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.passenger.room_choice_id,expression:"passenger.room_choice_id"}],staticClass:"form-control",attrs:{id:"t-form-room"+e.idNumber,required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.passenger,"room_choice_id",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Choose...")]),e._v(" "),e._l(e.item.package.room_choices,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.room_name)+" - Rp.\n                      "+e._s(t.room_price)+".000")])}))],2)])])])]),e._v(" "),r("div",{staticClass:"card-footer border-0 text-right bg-white"},[e.stepTwoDisable?r("button",{staticClass:"btn btn-secondary text-white my-2",attrs:{disabled:""}},[e._v("\n              Please complete all fields\n            ")]):r("a",{staticClass:"btn btn-primary text-white my-2 ",attrs:{"data-toggle":"collapse","data-target":"#stepTwo-"+e.idNumber,role:"button","aria-expanded":"false","aria-controls":"stepTwo-"+e.idNumber}},[e._v("Next")])])]),e._v(" "),r("div",{staticClass:"collapse",attrs:{id:"stepTwo-"+e.idNumber,"data-parent":"#stepsAccordion-"+e.idNumber}},[r("div",{staticClass:"card-body "},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-md-8 my-4 mx-auto text-left"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-passport"+e.idNumber}},[e._v("Passport Number")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.passport_number,expression:"passenger.passport_number"}],staticClass:"form-control",attrs:{id:"t-form-passport"+e.idNumber,type:"text",placeholder:"Enter passenger's passport number",required:""},domProps:{value:e.passenger.passport_number},on:{input:function(t){t.target.composing||e.$set(e.passenger,"passport_number",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-12 col-md-6"},[r("label",{attrs:{for:"t-form-issued"+e.idNumber}},[e._v("Passport Issued Date")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.issued_date,expression:"passenger.issued_date"}],staticClass:"form-control",attrs:{id:"t-form-issued"+e.idNumber,type:"date",required:""},domProps:{value:e.passenger.issued_date},on:{input:function(t){t.target.composing||e.$set(e.passenger,"issued_date",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"col-12 col-md-6"},[r("label",{attrs:{for:"t-form-expiry"+e.idNumber}},[e._v("Passport Expiry Date")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.expiry_date,expression:"passenger.expiry_date"}],staticClass:"form-control",attrs:{id:"t-form-expiry"+e.idNumber,type:"date",required:""},domProps:{value:e.passenger.expiry_date},on:{input:function(t){t.target.composing||e.$set(e.passenger,"expiry_date",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-country"+e.idNumber}},[e._v("Issuing Country")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.passenger.issuing_country,expression:"passenger.issuing_country"}],staticClass:"form-control",attrs:{id:"t-form-country"+e.idNumber,type:"text",placeholder:"Passport issuing country",required:""},domProps:{value:e.passenger.issuing_country},on:{input:function(t){t.target.composing||e.$set(e.passenger,"issuing_country",t.target.value)}}})])])])]),e._v(" "),r("div",{staticClass:"card-footer border-0 text-right bg-white"},[r("a",{staticClass:"btn btn-primary text-white my-2 ",attrs:{"data-toggle":"collapse","data-target":"#stepTwo-"+e.idNumber,role:"button","aria-expanded":"false","aria-controls":"stepTwo-"+e.idNumber}},[e._v("Go somewhere")])])])])])])])}),[],!1,null,"2e1a59bd",null).exports},data:function(){return{formLoading:!1,passengers:null}},computed:_(_({},Object(l.c)({TRANSACTION:"transactions/TRANSACTION"})),{},{disabled:function(){return this.passengers>0},item:function(){return this.TRANSACTION.data?this.TRANSACTION.data:{}}}),mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.GET_TRANSACTION(e.$route.params.id);case 2:e.addPassengers();case 3:case"end":return t.stop()}}),t)})))()},methods:_(_({},Object(l.b)({CREATE_PASSENGERS:"passengers/CREATE_PASSENGERS",GET_TRANSACTION:"transactions/GET_TRANSACTION"})),{},{createPassengers:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var form;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.formLoading=!0,form={transaction_id:e.$route.params.id,passengers:e.passengers},t.prev=2,t.next=5,e.CREATE_PASSENGERS(form);case 5:return t.next=7,e.GET_TRANSACTION(e.$route.params.id);case 7:e.$swal({background:"#f5f5f5",icon:"success",title:"Created!",text:"Passengers Created!",showConfirmButton:!0}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),e.$swal({background:"#f5f5f5",icon:"error",title:"Error!",text:"Please double check your inputs before submitting!",showConfirmButton:!0});case 13:return t.prev=13,e.formLoading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[2,10,13,16]])})))()},addPassengers:function(){var e=this.item.adults+this.item.children+this.item.infants;this.passengers=e,this.$swal({position:"top",background:"#f5f5f5",icon:"success",title:"Created!",text:"".concat(e," Passengers form created! Please double check your inputs before submitting!"),showConfirmButton:!0})}})},N=Object(v.a)(h,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"background-color":"#f4f4f4"}},[this._m(0),this._v(" "),this.TRANSACTION.data?t("div",[t("client-only",[t("div",{staticClass:"container pb-4"},this._l(this.passengers,(function(e,r){return t("div",{key:r},[t("stepper",{attrs:{"id-number":""+parseInt(r)}})],1)})),0)])],1):this._e()])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 mt-100"},[t("div",{staticClass:"section-heading dark text-center"},[t("span"),this._v(" "),t("h4",[this._v("Add Passengers")]),this._v(" "),t("p",[this._v("Fill all passengers detail")])])])])])}],!1,null,null,null);t.default=N.exports}}]);