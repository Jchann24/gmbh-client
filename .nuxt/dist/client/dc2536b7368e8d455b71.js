(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{211:function(t,e,r){var content=r(224);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(32).default)("75001b61",content,!0,{sourceMap:!1})},223:function(t,e,r){"use strict";var n=r(211);r.n(n).a},224:function(t,e,r){(e=r(31)(!1)).push([t.i,".hero-container[data-v-507f5fd2]{position:relative;text-align:center;color:#fff}.hero-text[data-v-507f5fd2]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);letter-spacing:30px}@media screen and (max-width:768px){.hero-text[data-v-507f5fd2]{font-size:1.2em;letter-spacing:10px}}",""]),t.exports=e},231:function(t,e,r){"use strict";r.r(e);r(54),r(18),r(19),r(12),r(43);var n=r(20),o=(r(10),r(2)),c=r(44);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={name:"PassengerInfoComponent",data:function(){return{formLoading:!1,passengers:[],passengersDetail:!1}},computed:m(m({},Object(c.c)({TRANSACTION:"transactions/TRANSACTION"})),{},{disabled:function(){return this.passengers.length>0},item:function(){return this.TRANSACTION.data}}),methods:m(m({},Object(c.b)({CREATE_PASSENGERS:"passengers/CREATE_PASSENGERS",GET_TRANSACTION:"transactions/GET_TRANSACTION"})),{},{createPassengers:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var form;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.formLoading=!0,form={transaction_id:t.$route.params.id,passengers:t.passengers},e.prev=2,e.next=5,t.CREATE_PASSENGERS(form);case 5:return e.next=7,t.GET_TRANSACTION(t.$route.params.id);case 7:t.$swal({background:"#f5f5f5",icon:"success",title:"Created!",text:"Passengers Created!",showConfirmButton:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t.$swal({background:"#f5f5f5",icon:"error",title:"Error!",text:"Please double check your inputs before submitting!",showConfirmButton:!0});case 13:return e.prev=13,t.formLoading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})))()},addPassengers:function(){var i,t=this.item.adults+this.item.children+this.item.infants;for(i=0;i<t;i++)this.passengers.push({transaction_id:this.$route.params.id,person_name:"",title:"",dob:null,passport_number:"",issued_date:null,expiry_date:null,issuing_country:"",food_preference:"",room_choice_id:null});this.$swal({position:"top",background:"#f5f5f5",icon:"success",title:"Created!",text:"".concat(t," Passengers form created! Please double check your inputs before submitting!"),showConfirmButton:!0})}})},v=r(9),_=Object(v.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"my-5"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[t._m(0),t._v(" "),0==t.item.forms.passengers.length?r("div",{staticClass:"col-12 col-md-6"},[r("button",{staticClass:"btn btn-block btn-primary",attrs:{disabled:t.disabled},on:{click:t.addPassengers}},[t._v("\n          Add Passengers Information\n        ")])]):t.item.forms.passengers.length>0?r("div",{staticClass:"col-12 col-md-6"},[r("button",{staticClass:"btn btn-block btn-success",on:{click:function(e){t.passengersDetail=!t.passengersDetail}}},[t._v("\n          All Passengers Detail\n        ")])]):t._e()]),t._v(" "),t.item.forms.passengers.length<1?r("form",{on:{submit:function(e){return e.preventDefault(),t.createPassengers(e)}}},[r("div",{staticClass:"row mt-2"},t._l(t.passengers,(function(e,n){return r("div",{key:n,staticClass:"col-12 col-md-6 my-2 border p-5"},[r("p",[t._v("Passenger Number "+t._s(n+1))]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-name"+n}},[t._v("Full Name")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.person_name,expression:"passenger.person_name"}],staticClass:"form-control",attrs:{id:"t-form-name"+n,type:"text",required:""},domProps:{value:e.person_name},on:{input:function(r){r.target.composing||t.$set(e,"person_name",r.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-6"},[r("label",{attrs:{for:"t-form-title"+n}},[t._v("Title")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"passenger.title"}],staticClass:"form-control form-control-sm",attrs:{id:"t-form-title"+n,required:""},on:{change:function(r){var n=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"title",r.target.multiple?n:n[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Choose...")]),t._v(" "),r("option",{attrs:{value:"Mr."}},[t._v("Mr.")]),t._v(" "),r("option",{attrs:{value:"Ms."}},[t._v("Ms.")]),t._v(" "),r("option",{attrs:{Value:"Mrs."}},[t._v("Mrs.")])])]),t._v(" "),r("div",{staticClass:"col-6"},[r("label",{attrs:{for:"t-form-food"+n}},[t._v("Food Preference")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.food_preference,expression:"passenger.food_preference"}],staticClass:"form-control form-control-sm",attrs:{id:"t-form-food"+n,required:""},on:{change:function(r){var n=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"food_preference",r.target.multiple?n:n[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Choose...")]),t._v(" "),r("option",{attrs:{value:"Vegetarian"}},[t._v("Vegetarian")]),t._v(" "),r("option",{attrs:{value:"Non-Vegetarian"}},[t._v("Non-Vegetarian")]),t._v(" "),r("option",{attrs:{value:"Muslim-Food"}},[t._v("Muslim-Food")])])])]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-dob"+n}},[t._v("Date of Birth")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.dob,expression:"passenger.dob"}],staticClass:"form-control",attrs:{id:"t-form-dob"+n,type:"date",required:""},domProps:{value:e.dob},on:{input:function(r){r.target.composing||t.$set(e,"dob",r.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-passport"+n}},[t._v("Passport Number")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.passport_number,expression:"passenger.passport_number"}],staticClass:"form-control",attrs:{id:"t-form-passport"+n,type:"text",required:""},domProps:{value:e.passport_number},on:{input:function(r){r.target.composing||t.$set(e,"passport_number",r.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-12 col-md-6"},[r("label",{attrs:{for:"t-form-issued"+n}},[t._v("Passport Issued Date")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.issued_date,expression:"passenger.issued_date"}],staticClass:"form-control",attrs:{id:"t-form-issued"+n,type:"date",required:""},domProps:{value:e.issued_date},on:{input:function(r){r.target.composing||t.$set(e,"issued_date",r.target.value)}}})]),t._v(" "),r("div",{staticClass:"col-12 col-md-6"},[r("label",{attrs:{for:"t-form-expiry"+n}},[t._v("Passport Expiry Date")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.expiry_date,expression:"passenger.expiry_date"}],staticClass:"form-control",attrs:{id:"t-form-expiry"+n,type:"date",required:""},domProps:{value:e.expiry_date},on:{input:function(r){r.target.composing||t.$set(e,"expiry_date",r.target.value)}}})])]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-country"+n}},[t._v("Issuing Country")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.issuing_country,expression:"passenger.issuing_country"}],staticClass:"form-control",attrs:{id:"t-form-country"+n,type:"text",required:""},domProps:{value:e.issuing_country},on:{input:function(r){r.target.composing||t.$set(e,"issuing_country",r.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-room"+n}},[t._v("Room Choice")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.room_choice_id,expression:"passenger.room_choice_id"}],staticClass:"form-control",attrs:{id:"t-form-room"+n,required:""},on:{change:function(r){var n=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"room_choice_id",r.target.multiple?n:n[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Choose...")]),t._v(" "),t._l(t.item.package.room_choices,(function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.room_name)+" - Rp.\n                "+t._s(e.room_price)+".000")])}))],2)])])})),0),t._v(" "),t.passengers.length>0?r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 p-0 mt-2"},[t.formLoading?r("button",{staticClass:"btn btn-block btn-lg btn-success",attrs:{disabled:""}},[t._v("\n            Submitting All Passengers...\n          ")]):r("button",{staticClass:"btn btn-block btn-lg btn-success",attrs:{type:"submit"}},[t._v("\n            Submit All Passengers\n          ")])])]):t._e()]):t._e(),t._v(" "),t.passengersDetail?r("div",{staticClass:"row mt-4"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"table-responsive"},[r("table",{staticClass:"table table-hover"},[t._m(1),t._v(" "),r("tbody",[t._l(t.item.forms.passengers,(function(e,n){return r("tr",{key:e.id},[r("th",{attrs:{scope:"row"}},[t._v(t._s(n+1))]),t._v(" "),r("td",[t._v(t._s(e.title)+" "+t._s(e.person_name))]),t._v(" "),r("td",[t._v(t._s(e.dob))]),t._v(" "),r("td",[t._v(t._s(e.passport_number))]),t._v(" "),r("td",[t._v(t._s(e.food_preference))]),t._v(" "),r("td",[t._v(t._s(e.issuing_country))]),t._v(" "),r("td",[t._v(t._s(e.room_choice_id.room_name))]),t._v(" "),r("td",[t._v("Rp. "+t._s(e.room_choice_id.room_price)+"K")])])})),t._v(" "),r("tr",[r("th",{staticClass:"text-right pr-5",attrs:{colspan:"7"}},[t._v("Total Price")]),t._v(" "),r("td",[t._v("Rp. "+t._s(t.item.total_price_amount)+"K")])])],2)])])])]):t._e()])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12 col-md-6"},[e("h5",{staticClass:"text-uppercase"},[this._v("1. Passengers Information")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),r("th",{attrs:{scope:"col"}},[t._v("Name")]),t._v(" "),r("th",{attrs:{scope:"col"}},[t._v("DOB")]),t._v(" "),r("th",{attrs:{scope:"col"}},[t._v("Passport Number")]),t._v(" "),r("th",{attrs:{scope:"col"}},[t._v("Food Preference")]),t._v(" "),r("th",{attrs:{scope:"col"}},[t._v("Issuing Country")]),t._v(" "),r("th",{attrs:{scope:"col"}},[t._v("Room Choice")]),t._v(" "),r("th",{attrs:{scope:"col"}},[t._v("Room Price")])])])}],!1,null,null,null).exports;function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function C(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={name:"MasterPassengerComponent",data:function(){return{formLoading:!1,masterForm:!1,masterDetail:{},showMasterDetail:!1}},computed:C(C({},Object(c.c)({TRANSACTION:"transactions/TRANSACTION"})),{},{item:function(){return this.TRANSACTION.data}}),methods:C(C({},Object(c.b)({GET_TRANSACTION:"transactions/GET_TRANSACTION",CREATE_MASTER_PASSENGER:"passengers/CREATE_MASTER_PASSENGER"})),{},{createMasterPassenger:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.formLoading=!0,t.masterDetail.transaction_id=t.$route.params.id,e.prev=2,e.next=5,t.CREATE_MASTER_PASSENGER(t.masterDetail);case 5:return e.next=7,t.GET_TRANSACTION(t.$route.params.id);case 7:t.$swal({background:"#f5f5f5",icon:"success",title:"Created!",text:"Master Passenger Created! ".concat(t.masterDetail.email),showConfirmButton:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t.$swal({background:"#f5f5f5",icon:"error",title:"Error!",text:"Please double check your inputs before submitting!",showConfirmButton:!0});case 13:return e.prev=13,t.formLoading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})))()}})},y=Object(v.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"my-5"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[t._m(0),t._v(" "),t.item.forms.master_passenger?r("div",{staticClass:"col-12 col-md-6"},[r("button",{staticClass:"btn btn-block btn-success",on:{click:function(e){t.showMasterDetail=!t.showMasterDetail}}},[t._v("\n          Master Passenger Detail\n        ")])]):r("div",{staticClass:"col-12 col-md-6"},[t.item.forms.passengers.length>0?r("button",{staticClass:"btn btn-block btn-primary",on:{click:function(e){t.masterForm=!t.masterForm}}},[t._v("\n          Choose Master Passenger\n        ")]):r("button",{staticClass:"btn btn-block btn-secondary",attrs:{disabled:""}},[t._v("\n          Please submit all passengers first\n        ")])])]),t._v(" "),t.masterForm&&!t.item.forms.master_passenger?r("div",{staticClass:"row mt-4"},[t._m(1),t._v(" "),r("div",{staticClass:"col-8 mt-4"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.createMasterPassenger(e)}}},[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"master-passenger"}},[t._v("Passenger")]),t._v(" "),r("div",{staticClass:"col-sm-6 "},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.masterDetail.passenger_id,expression:"masterDetail.passenger_id"}],staticClass:"form-control",attrs:{id:"master-passenger"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.masterDetail,"passenger_id",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Choose...")]),t._v(" "),t._l(t.item.forms.passengers,(function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.person_name))])}))],2)])]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"master-email"}},[t._v("E-mail")]),t._v(" "),r("div",{staticClass:"col-sm-6"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.masterDetail.email,expression:"masterDetail.email"}],staticClass:"form-control",attrs:{id:"master-email",type:"email"},domProps:{value:t.masterDetail.email},on:{input:function(e){e.target.composing||t.$set(t.masterDetail,"email",e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[t.formLoading?r("button",{staticClass:"btn btn-block btn-success",attrs:{disabled:""}},[t._v("\n                Adding Master Passenger ...\n              ")]):r("button",{staticClass:"btn btn-block btn-success",attrs:{type:"submit"}},[t._v("\n                Add Master Passenger\n              ")])])])])])]):t.item.forms.master_passenger&&t.showMasterDetail?r("div",[r("div",{staticClass:"row mt-4"},[r("div",{staticClass:"col-12"},[r("p",[t._v("\n            Email :\n            "+t._s(t.item.forms.master_passenger.email)+"\n          ")]),t._v(" "),r("p",[t._v("\n            Name :\n            "+t._s(t.item.forms.master_passenger.passenger_name)+"\n          ")])])])]):t._e()])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12 col-md-6"},[e("h5",{staticClass:"text-uppercase"},[this._v("2. Master Passenger Information")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12"},[e("h6",[this._v("PLEASE CHOOSE THE MASTER PASSENGER")])])}],!1,null,null,null).exports;r(24);function O(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function E(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var w={name:"EmergencyContactComponent",data:function(){return{eContactShow:!1,showEmergencyContactDetail:!1,e_contact:{},loading:!1}},computed:E(E({},Object(c.c)({TRANSACTION:"transactions/TRANSACTION"})),{},{item:function(){return this.TRANSACTION.data}}),methods:E(E({},Object(c.b)({GET_TRANSACTION:"transactions/GET_TRANSACTION",CREATE_EMERGENCY_CONTACT:"passengers/CREATE_EMERGENCY_CONTACT"})),{},{createEmergencyContact:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,t.e_contact.transaction_id=t.$route.params.id,e.prev=2,e.next=5,t.CREATE_EMERGENCY_CONTACT(t.e_contact);case 5:return e.next=7,t.GET_TRANSACTION(t.$route.params.id);case 7:t.$swal({background:"#f5f5f5",icon:"success",title:"Created!",text:"Emergency Contact Created! ".concat(t.e_contact.name),showConfirmButton:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t.$swal({background:"#f5f5f5",icon:"error",title:"Error!",text:"Please double check your inputs before submitting!",showConfirmButton:!0});case 13:return e.prev=13,t.loading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})))()}})},T=Object(v.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"my-5"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[t._m(0),t._v(" "),t.item.forms.emergency_contact?r("div",{staticClass:"col-12 col-md-6"},[r("button",{staticClass:"btn btn-block btn-success",on:{click:function(e){t.showEmergencyContactDetail=!t.showEmergencyContactDetail}}},[t._v("\n          Emergency Contact Detail\n        ")])]):r("div",{staticClass:"col-12 col-md-6"},[t.item.forms.master_passenger?r("button",{staticClass:"btn btn-block btn-primary",on:{click:function(e){t.eContactShow=!t.eContactShow}}},[t._v("\n          Create Emergency Contact\n        ")]):r("button",{staticClass:"btn btn-block btn-secondary",attrs:{disabled:""}},[t._v("\n          Please choose master passenger first\n        ")])])]),t._v(" "),t.eContactShow&&!t.item.forms.emergency_contact?r("div",{staticClass:"row mt-4"},[t._m(1),t._v(" "),r("div",{staticClass:"col-12 mt-4"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.createEmergencyContact(e)}}},[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"e-name"}},[t._v("Name")]),t._v(" "),r("div",{staticClass:"col-sm-6"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.e_contact.name,expression:"e_contact.name"}],staticClass:"form-control",attrs:{id:"e-name",type:"text",required:""},domProps:{value:t.e_contact.name},on:{input:function(e){e.target.composing||t.$set(t.e_contact,"name",e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"e-phone_number"}},[t._v("Phone Number")]),t._v(" "),r("div",{staticClass:"col-sm-6"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.e_contact.telephone,expression:"e_contact.telephone"}],staticClass:"form-control",attrs:{id:"e-phone_number",type:"tel",required:""},domProps:{value:t.e_contact.telephone},on:{input:function(e){e.target.composing||t.$set(t.e_contact,"telephone",e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"e-relatives"}},[t._v("Relative")]),t._v(" "),r("div",{staticClass:"col-sm-6"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.e_contact.relatives,expression:"e_contact.relatives"}],staticClass:"form-control",attrs:{id:"e-relatives",type:"text",placeholder:"Father",required:""},domProps:{value:t.e_contact.relatives},on:{input:function(e){e.target.composing||t.$set(t.e_contact,"relatives",e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-8"},[t.loading?r("button",{staticClass:"btn btn-block btn-success",attrs:{disabled:""}},[t._v("\n                Submitting ...\n              ")]):r("button",{staticClass:"btn btn-block btn-success",attrs:{type:"submit"}},[t._v("\n                Submit\n              ")])])])])])]):t.showEmergencyContactDetail&&t.item.forms.emergency_contact?r("div",[r("div",{staticClass:"row mt-4"},[r("div",{staticClass:"col-12"},[r("p",[t._v("\n            Name :\n            "+t._s(t.item.forms.emergency_contact.name)+"\n          ")]),t._v(" "),r("p",[t._v("\n            Telephone :\n            "+t._s(t.item.forms.emergency_contact.telephone)+"\n          ")]),t._v(" "),r("p",[t._v("Relative : "+t._s(t.item.forms.emergency_contact.relatives))])])])]):t._e()])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12 col-md-6"},[e("h5",{staticClass:"text-uppercase"},[this._v("3. Emergency Contact Information")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12"},[e("h6",[this._v("CREATE EMERGENCY CONTACT")])])}],!1,null,null,null).exports;function A(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function N(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?A(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):A(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var P={name:"TransactionSlipComponent",data:function(){return{uploadForm:!1,showTransactionSlip:!1,slip:null,loading:!1}},computed:N(N({},Object(c.c)({TRANSACTION:"transactions/TRANSACTION"})),{},{item:function(){return this.TRANSACTION.data}}),methods:N(N({},Object(c.b)({CREATE_TRANSACTION_SLIP:"transactions/CREATE_TRANSACTION_SLIP",GET_TRANSACTION:"transactions/GET_TRANSACTION"})),{},{slipFile:function(t){var e=t.target.files[0];this.slip=e},uploadFile:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,(r=new FormData).append("image",t.slip),r.append("transaction_id",t.$route.params.id),e.prev=4,e.next=7,t.CREATE_TRANSACTION_SLIP(r);case 7:return e.next=9,t.GET_TRANSACTION(t.$route.params.id);case 9:t.$swal({background:"#f5f5f5",icon:"success",title:"Created!",text:"Transaction Slip Uploaded!",showConfirmButton:!0}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),t.$swal({background:"#f5f5f5",icon:"error",title:"Error!",text:"Please double check your inputs before submitting!",showConfirmButton:!0});case 15:return e.prev=15,t.loading=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,12,15,18]])})))()}})};function S(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function x(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var R={name:"TransactionShow",middleware:["auth"],components:{PassengerInfo:_,MasterPassenger:y,EmergencyContact:T,TransactionSlip:Object(v.a)(P,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"my-5"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[t._m(0),t._v(" "),t.item.forms.transfer_evidence?r("div",{staticClass:"col-12 col-md-6"},[r("button",{staticClass:"btn btn-block btn-success",on:{click:function(e){t.showTransactionSlip=!t.showTransactionSlip}}},[t._v("\n          Transaction Slip Detail\n        ")])]):r("div",{staticClass:"col-12 col-md-6"},[t.item.forms.emergency_contact?r("button",{staticClass:"btn btn-block btn-primary",on:{click:function(e){t.uploadForm=!t.uploadForm}}},[t._v("\n          Upload Transaction Slip\n        ")]):r("button",{staticClass:"btn btn-block btn-secondary",attrs:{disabled:""}},[t._v("\n          Please create emergency contact first\n        ")])])]),t._v(" "),t.uploadForm&&!t.item.forms.transfer_evidence?r("div",[r("div",{staticClass:"row mt-4"},[r("div",{staticClass:"col-12 col-md-6 mt-2"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.uploadFile(e)}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"ts-upload"}},[t._v("Upload Transaction Slip")]),t._v(" "),r("input",{staticClass:"form-control-file",attrs:{id:"ts-upload",type:"file"},on:{change:t.slipFile}})]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[t.loading?r("button",{staticClass:"btn btn-block btn-success",attrs:{disabled:""}},[t._v("\n                  Uploading ...\n                ")]):r("button",{staticClass:"btn btn-block btn-success",attrs:{type:"submit"}},[t._v("\n                  Upload\n                ")])])])])])])]):t.showTransactionSlip&&t.item.forms.transfer_evidence?r("div",[r("div",{staticClass:"row mt-4"},[r("div",{staticClass:"col-12 mt-4"},[r("button",{staticClass:"btn btn-block btn-success",attrs:{type:"button"}},[r("a",{staticStyle:{"text-decoration":"none",color:"white"},attrs:{href:t.item.forms.transfer_evidence.image_url,target:"_blank"}},[t._v("\n              View Transaction Slip\n            ")])])])])]):t._e()])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12 col-md-6"},[e("h5",{staticClass:"text-uppercase"},[this._v("4. Transaction Slip")])])}],!1,null,null,null).exports},fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.GET_TRANSACTION(t.$route.params.id);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),t.errors=!0;case 9:return e.prev=9,t.loading=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[1,6,9,12]])})))()},data:function(){return{loading:!1,formLoading:!1,errors:!1,masterForm:!1,masterDetail:{},showMasterDetail:!1}},computed:x(x({},Object(c.c)({TRANSACTION:"transactions/TRANSACTION"})),{},{item:function(){return this.TRANSACTION.data}}),methods:x({},Object(c.b)({GET_TRANSACTION:"transactions/GET_TRANSACTION",CREATE_PASSENGERS:"passengers/CREATE_PASSENGERS",CREATE_MASTER_PASSENGER:"passengers/CREATE_MASTER_PASSENGER"}))},j=(r(223),Object(v.a)(R,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.item&&!t.loading?r("div",[r("section",{staticClass:"ceo-gmbh-welcome-area bg-img bg-overlay"},[r("div",{staticClass:"hero-container"},[r("img",{staticClass:"img-fluid",staticStyle:{"max-height":"400px","object-fit":"cover",filter:"brightness(0.8)"},attrs:{src:t.item.package.image_url,width:"100%",alt:t.item.package.name+"-package",loading:"lazy"}}),t._v(" "),r("h1",{staticClass:"hero-text text-uppercase display-1 font-weight-bold text-white"},[t._v("\n          "+t._s(t.item.package.name)+"\n        ")])])]),t._v(" "),r("section",[r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"section-heading py-5 mb-0"},[r("h4",{staticClass:"text-dark"},[t._v("BOOKING DETAIL")]),t._v(" "),r("p",{staticClass:"text-dark"},[t._v("\n                Transaction Number - "+t._s(t.item.transaction_number)+"\n              ")])])])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-md-6 text-left"},[r("p",[t._v("\n              Passengers : "+t._s(t.item.adults+t.item.children+t.item.infants)+"\n            ")]),t._v(" "),r("p",[t._v("\n              Emergency Contact :\n              "),t.item.forms.emergency_contact?r("span",[t._v(t._s(t.item.forms.emergency_contact.name))]):r("span",{staticClass:"text-danger"},[t._v("Not found")])]),t._v(" "),r("p",[t._v("\n              Master Passenger :\n              "),t.item.forms.master_passenger?r("span",[t._v(t._s(t.item.forms.master_passenger.email))]):r("span",{staticClass:"text-danger"},[t._v("Not found")])]),t._v(" "),r("p",[t._v("\n              Transaction Slip :\n              "),t.item.forms.transfer_evidence?r("span",[t._v("Uploaded")]):r("span",{staticClass:"text-danger"},[t._v("Not found")])])]),t._v(" "),r("div",{staticClass:"col-12 col-md-6 text-left"},[r("p",[t._v("\n              Total Price :\n              "),0==t.item.total_price_amount?r("span",{staticClass:"text-danger"},[t._v("Please complete the details first.")]):r("span",[t._v("Rp. "+t._s(t.item.total_price_amount)+".000")])]),t._v(" "),r("p",[t._v("Created at : "+t._s(t.item.created_at))]),t._v(" "),r("p",[t._v("Created by : "+t._s(t.item.user.name)+" / "+t._s(t.item.user.email))]),t._v(" "),t.item.adults>0?r("p",[t._v("\n              Adults : "+t._s(t.item.adults)+"\n              "),t.item.children>0?r("span",[t._v("\n                Children : "+t._s(t.item.children))]):t._e(),t._v(" "),t.item.infants>0?r("span",[t._v("\n                Infants : "+t._s(t.item.infants))]):t._e()]):t._e()])])])]),t._v(" "),r("hr"),t._v(" "),t._m(0),t._v(" "),r("passenger-info"),t._v(" "),r("master-passenger"),t._v(" "),r("emergency-contact"),t._v(" "),r("transaction-slip")],1):r("div",[r("client-only",[r("div",{staticClass:"container"},[r("div",{staticClass:"row p-5 align-items-center mx-auto"},[r("div",{staticClass:"col-12 my-4"},[r("content-placeholders",{attrs:{rounded:!0}},[r("content-placeholders-img")],1)],1),t._v(" "),t._l(2,(function(e){return r("div",{key:e,staticClass:"col-12 my-4"},[r("content-placeholders",{attrs:{rounded:!0}},[r("content-placeholders-heading"),t._v(" "),r("content-placeholders-text",{attrs:{lines:2}})],1)],1)}))],2)])])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"section-heading pt-5 pb-2 mb-0"},[e("h4",{staticClass:"text-dark"},[this._v("BOOKING FORM")])])])])])}],!1,null,"507f5fd2",null));e.default=j.exports}}]);