(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{228:function(t,e,r){var content=r(245);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(26).default)("4099ebad",content,!0,{sourceMap:!1})},244:function(t,e,r){"use strict";var o=r(228);r.n(o).a},245:function(t,e,r){(e=r(25)(!1)).push([t.i,".card-header .nav-link[aria-expanded=true][data-v-06af0108]{background-color:#fff;color:#00f}",""]),t.exports=e},253:function(t,e,r){"use strict";r.r(e);r(55),r(19),r(20),r(12),r(43),r(9);var o=r(2),n=r(21),c=r(44);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"FormStepperOne",props:{idNumber:{type:String,default:""}},data:function(){return{passenger:{transaction_id:this.$route.params.id,person_name:"",title:"",dob:null,passport_number:"",issued_date:null,expiry_date:null,issuing_country:"",food_preference:"",room_choice_id:null}}},computed:d(d({},Object(c.c)({TRANSACTION:"transactions/TRANSACTION"})),{},{item:function(){return this.TRANSACTION.data}}),mounted:function(){},methods:d({},Object(c.d)({PUSH_PASSENGER:"stepper-form/PUSH_PASSENGER"}))},v=(r(244),r(7));function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={name:"AddPassengersPage",components:{Stepper:Object(v.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h5",{staticClass:"mb-0 text-center"},[t._v("Passenger "+t._s(t.idNumber))]),t._v(" "),r("div",{staticClass:"accordion",attrs:{id:"stepsAccordion-"+t.idNumber}},[r("div",{staticClass:"card border-0 text-center my-4 shadow"},[r("div",{staticClass:"card-header bg-light"},[r("ul",{staticClass:"nav nav-tabs card-header-tabs"},[r("li",{staticClass:"nav-item"},[r("a",{staticClass:"nav-link",attrs:{"data-toggle":"collapse","data-target":"#stepOne-"+t.idNumber,role:"button","aria-expanded":"false","aria-controls":"stepOne-"+t.idNumber}},[t._v("\n              Step One\n            ")])]),t._v(" "),r("li",{staticClass:"nav-item"},[r("a",{staticClass:"nav-link",attrs:{"data-toggle":"collapse","data-target":"#stepTwo-"+t.idNumber,role:"button","aria-expanded":"false","aria-controls":"stepTwo-"+t.idNumber}},[t._v("Step Two")])])])]),t._v(" "),r("div",{staticClass:"collapse ",attrs:{id:"stepOne-"+t.idNumber,"data-parent":"#stepsAccordion-"+t.idNumber}},[r("div",{staticClass:"card-body "},[r("h5",{staticClass:"card-title"},[t._v("Special title treatment")]),t._v(" "),r("p",{staticClass:"card-text"},[t._v("\n            With supporting text below as a natural lead-in to additional\n            content.\n          ")]),t._v(" "),r("a",{staticClass:"btn btn-primary",attrs:{"data-toggle":"collapse","data-target":"#stepTwo-"+t.idNumber,role:"button","aria-expanded":"false","aria-controls":"stepTwo-"+t.idNumber}},[t._v("Go somewhere")])])]),t._v(" "),r("div",{staticClass:"collapse",attrs:{id:"stepTwo-"+t.idNumber,"data-parent":"#stepsAccordion-"+t.idNumber}},[t._m(0)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-body "},[e("h5",{staticClass:"card-title"},[this._v("Special title treatment")]),this._v(" "),e("p",{staticClass:"card-text"},[this._v("\n            With supporting text below as a natural lead-in to additional\n            content.\n          ")])])}],!1,null,"06af0108",null).exports},data:function(){return{formLoading:!1,passengers:[]}},computed:_(_({},Object(c.c)({TRANSACTION:"transactions/TRANSACTION"})),{},{disabled:function(){return this.passengers.length>0},item:function(){return this.TRANSACTION.data?this.TRANSACTION.data:{}}}),created:function(){this.GET_TRANSACTION(this.$route.params.id)},mounted:function(){var t=this;setTimeout((function(){t.addPassengers()}),1e3)},methods:_(_({},Object(c.b)({CREATE_PASSENGERS:"passengers/CREATE_PASSENGERS",GET_TRANSACTION:"transactions/GET_TRANSACTION"})),{},{createPassengers:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var form;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.formLoading=!0,form={transaction_id:t.$route.params.id,passengers:t.passengers},e.prev=2,e.next=5,t.CREATE_PASSENGERS(form);case 5:return e.next=7,t.GET_TRANSACTION(t.$route.params.id);case 7:t.$swal({background:"#f5f5f5",icon:"success",title:"Created!",text:"Passengers Created!",showConfirmButton:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t.$swal({background:"#f5f5f5",icon:"error",title:"Error!",text:"Please double check your inputs before submitting!",showConfirmButton:!0});case 13:return e.prev=13,t.formLoading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})))()},addPassengers:function(){var i,t=this.item.adults+this.item.children+this.item.infants;for(i=0;i<t;i++)this.passengers.push({transaction_id:this.$route.params.id,person_name:"",title:"",dob:null,passport_number:"",issued_date:null,expiry_date:null,issuing_country:"",food_preference:"",room_choice_id:null});this.$swal({position:"top",background:"#f5f5f5",icon:"success",title:"Created!",text:"".concat(t," Passengers form created! Please double check your inputs before submitting!"),showConfirmButton:!0})}})},C=Object(v.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._m(0),t._v(" "),t.TRANSACTION.data?r("div",[r("client-only",[r("div",{staticClass:"container"},t._l(t.passengers,(function(t,e){return r("div",{key:e},[r("stepper",{attrs:{"id-number":""+parseInt(e)}})],1)})),0)]),t._v(" "),r("hr",{staticClass:"my-5"}),t._v(" "),t.item.forms.passengers.length<1?r("form",{on:{submit:function(e){return e.preventDefault(),t.createPassengers(e)}}},[r("div",{staticClass:"row mt-2"},t._l(t.passengers,(function(e,o){return r("div",{key:o,staticClass:"col-12 col-md-6 my-2 border p-5"},[r("p",[t._v("Passenger Number "+t._s(o+1))]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-name"+o}},[t._v("Full Name")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.person_name,expression:"passenger.person_name"}],staticClass:"form-control",attrs:{id:"t-form-name"+o,type:"text",required:""},domProps:{value:e.person_name},on:{input:function(r){r.target.composing||t.$set(e,"person_name",r.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-6"},[r("label",{attrs:{for:"t-form-title"+o}},[t._v("Title")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"passenger.title"}],staticClass:"form-control form-control-sm",attrs:{id:"t-form-title"+o,required:""},on:{change:function(r){var o=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"title",r.target.multiple?o:o[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Choose...")]),t._v(" "),r("option",{attrs:{value:"Mr."}},[t._v("Mr.")]),t._v(" "),r("option",{attrs:{value:"Ms."}},[t._v("Ms.")]),t._v(" "),r("option",{attrs:{Value:"Mrs."}},[t._v("Mrs.")])])]),t._v(" "),r("div",{staticClass:"col-6"},[r("label",{attrs:{for:"t-form-food"+o}},[t._v("Food Preference")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.food_preference,expression:"passenger.food_preference"}],staticClass:"form-control form-control-sm",attrs:{id:"t-form-food"+o,required:""},on:{change:function(r){var o=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"food_preference",r.target.multiple?o:o[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Choose...")]),t._v(" "),r("option",{attrs:{value:"Vegetarian"}},[t._v("Vegetarian")]),t._v(" "),r("option",{attrs:{value:"Non-Vegetarian"}},[t._v("Non-Vegetarian")]),t._v(" "),r("option",{attrs:{value:"Muslim-Food"}},[t._v("Muslim-Food")])])])]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-dob"+o}},[t._v("Date of Birth")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.dob,expression:"passenger.dob"}],staticClass:"form-control",attrs:{id:"t-form-dob"+o,type:"date",required:""},domProps:{value:e.dob},on:{input:function(r){r.target.composing||t.$set(e,"dob",r.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-passport"+o}},[t._v("Passport Number")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.passport_number,expression:"passenger.passport_number"}],staticClass:"form-control",attrs:{id:"t-form-passport"+o,type:"text",required:""},domProps:{value:e.passport_number},on:{input:function(r){r.target.composing||t.$set(e,"passport_number",r.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-12 col-md-6"},[r("label",{attrs:{for:"t-form-issued"+o}},[t._v("Passport Issued Date")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.issued_date,expression:"passenger.issued_date"}],staticClass:"form-control",attrs:{id:"t-form-issued"+o,type:"date",required:""},domProps:{value:e.issued_date},on:{input:function(r){r.target.composing||t.$set(e,"issued_date",r.target.value)}}})]),t._v(" "),r("div",{staticClass:"col-12 col-md-6"},[r("label",{attrs:{for:"t-form-expiry"+o}},[t._v("Passport Expiry Date")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.expiry_date,expression:"passenger.expiry_date"}],staticClass:"form-control",attrs:{id:"t-form-expiry"+o,type:"date",required:""},domProps:{value:e.expiry_date},on:{input:function(r){r.target.composing||t.$set(e,"expiry_date",r.target.value)}}})])]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-country"+o}},[t._v("Issuing Country")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.issuing_country,expression:"passenger.issuing_country"}],staticClass:"form-control",attrs:{id:"t-form-country"+o,type:"text",required:""},domProps:{value:e.issuing_country},on:{input:function(r){r.target.composing||t.$set(e,"issuing_country",r.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"t-form-room"+o}},[t._v("Room Choice")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.room_choice_id,expression:"passenger.room_choice_id"}],staticClass:"form-control",attrs:{id:"t-form-room"+o,required:""},on:{change:function(r){var o=Array.prototype.filter.call(r.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"room_choice_id",r.target.multiple?o:o[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Choose...")]),t._v(" "),t._l(t.item.package.room_choices,(function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.room_name)+" - Rp.\n                "+t._s(e.room_price)+".000")])}))],2)])])})),0),t._v(" "),t.passengers.length>0?r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 p-0 mt-2"},[t.formLoading?r("button",{staticClass:"btn btn-block btn-lg btn-success",attrs:{disabled:""}},[t._v("\n            Submitting All Passengers...\n          ")]):r("button",{staticClass:"btn btn-block btn-lg btn-success",attrs:{type:"submit"}},[t._v("\n            Submit All Passengers\n          ")])])]):t._e()]):t._e()],1):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 mt-100"},[e("div",{staticClass:"section-heading dark text-center"},[e("span"),this._v(" "),e("h4",[this._v("Add Passengers")]),this._v(" "),e("p",[this._v("Fill all passengers detail")])])])])])}],!1,null,null,null);e.default=C.exports}}]);